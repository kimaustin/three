{"ast":null,"code":"import _slicedToArray from\"/home/portfolio/v2/web-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef,useCallback}from'react';import{useInView,inView,InView}from'react-intersection-observer';import{connect}from\"react-redux\";import{motion}from\"framer-motion\";import{Link as LinkRouter}from'react-router-dom';import SingleWork from\"./SingleWork\";import MobileTopButton from\"../MobileTopButton\";import{Container,Marker,HitMarker,ProjectTag,ContentBg,WorkListContainer,WorkName,WorkDesc,VisitLink,Fake,ImageHover,WorkItem,WorkIndex,TagsContainer,WorkContents,TagsDivider,WorkActions,Details,WorkImageContainer,WorkImage,BgBlur,WorkList,CaseStudy,Divider}from\"./WorkElements\";import Scrollbar from\"smooth-scrollbar\";import{FixedContent}from\"./WorkExpandedElements\";// const options = {\n//   damping: 0.1,\n//   renderByPixels: true,\n//   alwaysShowTracks: false,\n//   continuousScrolling: false\n// }\n// Scrollbar.init(document.querySelector('#my-scrollbar'), options);\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Works=function Works(_ref){var projects=_ref.projects,aboutToggle=_ref.aboutToggle;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),projectDisplayed=_useState2[0],setProjectDisplayed=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),hoverAllowed=_useState4[0],setHoverAllowed=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),imageZoomed=_useState6[0],setImageZoomed=_useState6[1];var _useInView=useInView({rootMargin:'-210px'}),myRef1=_useInView.ref,inView=_useInView.inView,entry=_useInView.entry;// const myRef1 = useRef();\n// const [selectedProjVisible, setSelectedProjVisible] = useState();\n// console.log('selectedProjVisible: ' + selectedProjVisible);\n// if(inView) {\n//   // console.log('ref: ',  myRef1.current);\n//   // console.log('entry', entry);\n//   // console.log('about to update proj desc');\n// }\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),projectValue=_useState8[0],setProjectValue=_useState8[1];// useEffect(() =>  {\n//   console.log('ref: ' + myRef1.current);\n//   const observer = new IntersectionObserver((entries) => {\n//     const entry = entries[0];\n//     setSelectedProjVisible(entry.isIntersecting);\n//     // console.log('entry: ' + entry); \n//   })\n//   observer.observe(myRef1.current);\n// }, []) \n// const [topVal, setTopVal] = useState(\"-1px\");\n// const [leftVal, setLeftVal] = useState(\"-1px\");\n// console.log(projects.length);\n//TODO: pass in Projects Length as variable instaed of Connecting to Store to retrieve\n// let margin = (64 / projects.length) * .8;\n// let y_index = ((project.id - 1) * margin) + 49;\n// let stringY = y_index + \"vh\";\n// let stringY2 = (y_index - 2) + \"vh\";\n// console.log(\"stringY2: \" + stringY2);\n// document.onmousemove = function(event) {\n//   // pointerX = event.screenX + \"px\";\n//   // pointerY = event.screenY + \"px\";\n//   if (event.pageY >= (window.innerHeight - 340)) {\n//       setTopVal((event.pageY - 340) + \"px\");\n//       setLeftVal((event.pageX + 2) + \"px\");\n//   } else {\n//       setTopVal((event.pageY + 1) + \"px\");\n//       setLeftVal((event.pageX + 2) + \"px\");\n//   }\n// }\n// if ( this.state.displayQuestions ) {\n//   questions = (\n//   <div>\n//        { this.state.questions.map((question, index) => {\n//             return <Question key={question.id}\n//             title={question.title} />\n//        })}\n//   </div>\n//   )\n// }\nvar toggleImgZoom=function toggleImgZoom(){setImageZoomed(!imageZoomed);// console.log(\"Img Toggle reached.\");\n// console.log(\"curr zoom status: \" + imageZoomed);\n};var isOdd=function isOdd(index){if(index%2==0){return true;}else{return false;}};// const [header, setHeader] = useState(\"header\");\n// const listenScrollEvent = (event) => {\n//   if (WorkListContainer.scrollY < 250) {\n//     // console.log(\"got to scroll listener event\");\n//   } else if (WorkListContainer.scrollY > 250) {\n//     // console.log(\"got to scroll listener event\");\n//   }\n// // };\n// useEffect(() => {\n//   window.addEventListener(\"scroll\", listenScrollEvent);\n//   return () => window.removeEventListener(\"scroll\", listenScrollEvent);\n// }, []);\n// ----------------------------------------------------------------------------------------\n// ON SCROLL, UPDATE THE IMAGE AND DESCRIPTION DETAILS\n// const changeSelector = () => {\n//   // if scroll = project number * divided value\n//   if(window.scrollY >= 80 && window.scrollY < 250) {\n//       // setCurrImage(true);\n//     console.log(\"got to scroll listener event\");\n//     setProjectDisplayed(2);\n//   } else {\n//       // setCurrImage(false);\n//     }\n// };\n// useEffect(() => {\n//   window.addEventListener('scroll', changeSelector)\n// }, []);\nvar handleDisplayProject=function handleDisplayProject(index){var currHoverAllowed=hoverAllowed;// console.log(\"proj: \" + projectDisplayed);\n// console.log(\"hover: \" + hoverAllowed);\nif(index>16){setProjectDisplayed(1);}else if(index==0){setProjectDisplayed(15);}else if(index!=-1){setProjectDisplayed(index);setHoverAllowed(false);// console.log(\"index: \" + index);\n}else if(projectDisplayed==index){setProjectDisplayed(-1);setHoverAllowed(true);// console.log(\"deselecting\");\n}else{setHoverAllowed(true);// setProjectDisplayed(0);\n// console.log(\"hover: \" + hoverAllowed);\n// console.log(\"deselecting\");\n}};var togglePage=function togglePage(){handleDisplayProject(-1);};// ARROWS TO SWITCH BETWEEN PROJECTS, ANIMATE VERTICALLY\nfunction ProjTags(_ref2){var tag=_ref2.tag,index=_ref2.index,tagsLength=_ref2.tagsLength;// if (index == tagsLength - 1) {\n//   return (\n//     <ProjectTag>{tag}.</ProjectTag>\n//   );\n// } else {\n//   return <ProjectTag>{tag}. </ProjectTag>;\n// }\nreturn/*#__PURE__*/_jsxs(ProjectTag,{children:[tag,\". \",/*#__PURE__*/_jsx(\"p\",{})]});}var pageVariants3={initial:{opacity:0,x:\"-100vw\",scale:0.8},in:{opacity:1,// y: '4.5rem',\nx:0,scale:1},outOther:{opacity:0,x:\"-100vw\",scale:1,transition:{delay:0,type:\"tween\",ease:[0.7,0,0.13,1],duration:0.85}},outSelected:{opacity:0,position:'aboslute',top:0,scale:1,transition:{delay:0.2,type:\"tween\",ease:[0.7,0,0.13,1],duration:0.7}}};// let project_previews = projects.map((project) => {\n//   if (project.id < 16) {\n//     return (\n//       <WorkImageItem>\n//         <Image>\n//           <img src={\"imgs/\" + project.imgs[0]} />\n//         </Image>\n//       </WorkImageItem>\n//     )\n//   }\n// });\n// OLD LIST OF PROJECTS\n// let project_names = projects.map((project) => {\n//   // means no content displayed\n//   var zerofilled = (\"0\" + project.id).slice(-2);\n//   const tagsDisplayed = project.tags.map((tag, index) => (\n//     <ProjTags\n//       tag={tag}\n//       key={tag.id}\n//       index={index}\n//       tagsLength={project.tags.length}\n//     />\n//   ));\n//   let index_str = \"proj\" + project.id;\n//   let filteredOut = false;\n//   // if (filterType != 0 && project.type != filterType) {\n//   //   filteredOut = true;\n//   // }\n//   if (project.id < 17) {\n//     console.log(\"filtered out for \" + project.id + \": \" + filteredOut);\n//     // if (filterType == 0 || filterType == project.type) {\n//       return (\n//         <WorkItem\n//           as={motion.div}\n//           initial=\"initial\"\n//           animate=\"in\"\n//           exit={projectDisplayed === project.id ? \"outSelected\" : \"outOther\"}\n//           variants={pageVariants3}\n//           transition={{\n//             type: \"tween\",\n//             ease: [0.7, 0, 0.13, 1],\n//             duration: 0.8,\n//             delay: project.id * 0.16,\n//           }}\n//           onClick={() => handleDisplayProject(project.id)}\n//           projectDisplayed={projectDisplayed}\n//           projectId={project.id}\n//           filteredOut={false}\n//         >\n//           <WorkContents\n//             to={\"/\" + project.id + \"/works\"}\n//             id={\"proj\" + project.id}\n//             projectType={project.type}\n//             // filter={filterType}\n//             filteredOut={false}\n//             projectDisplayed={projectDisplayed}\n//             projectId={project.id}\n//           >\n//             <WorkIndex>{zerofilled}</WorkIndex>\n//             <WorkName>{project.name}</WorkName>\n//             <TagsContainer>{tagsDisplayed}</TagsContainer>\n//             <TagsDivider />\n//           </WorkContents>\n//           {/* <Image hoverAllowed={hoverAllowed}>\n//             <img src={\"imgs/\" + project.imgs[0]} />\n//           </Image> */}\n//         </WorkItem>\n//       );\n//     // }\n//   }\n// });\nvar proj1={name:'June ggg ONE One GGG One ogg',val:1,isCS:true,tags:['UX Design','Figma','React.JS'],link:['https://www.junehomes.com']};var proj2={name:'Two',val:2,isCS:false,tags:['2UX Design','Figma','React.JS'],link:[]};var proj3={name:'three',val:3,isCS:false,tags:['3UX Design','Figma','React.JS'],link:[]};var proj4={name:'four',val:4,isCS:true,tags:['4UX Design','Figma','React.JS'],link:['https://www.junehomes.com']};var proj5={name:'five',val:5,isCS:false,tags:['5UX Design','Figma','React.JS'],link:[]};var proj6={name:'six',val:6,isCS:false,tags:['6UX Design','Figma','React.JS'],link:[]};var proj7={name:'seven',val:7,isCS:true,tags:['7UX Design','Figma','React.JS'],link:[]};var proj8={name:'eight',val:8,isCS:false,tags:['8UX Design','Figma','React.JS'],link:[]};var proj9={name:'nine',val:9,isCS:false,tags:['9UX Design','Figma','React.JS'],link:[]};var myProjects=[proj1,proj2,proj3,proj4,proj5,proj6,proj7,proj8,proj9];var ListContainerRef=useRef();var observerOptions={root:ListContainerRef.target,rootMargin:'-49% 0px -50% 0px'// threshold: 0.1\n};var myRefs=[];myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());useEffect(function(){// const observer = new IntersectionObserver((projectsList) => {\n//     console.log(\"projects list\", projectsList);\n//     console.log('root', projectsList.root);\n// }, observerOptions)\nfor(var i=0;i<myRefs.length;i++){// console.log('curr', myRefs[i].current);\n// console.log('root', root);\nvar observer=new IntersectionObserver(function(projectsList){if(projectsList[0].isIntersecting){console.log('scroll - current proj index',projectValue);setProjectValue(projectsList[0].target.id);projectsList[0].target.style.opacity=1.0;}else{projectsList[0].target.style.opacity=0.5;}},observerOptions);observer.observe(myRefs[i].current);}},[]);function timeout(delay){return new Promise(function(res){return setTimeout(res,delay);});}var handleClick=function handleClick(index){var _myRefs$index$current;// console.log('proj clicked', index);\nconsole.log('clicked - current proj index',projectValue);(_myRefs$index$current=myRefs[index].current)===null||_myRefs$index$current===void 0?void 0:_myRefs$index$current.scrollIntoView({behavior:'smooth'});// await timeout(1000); //for 1 sec delay\n// setProjectValue(index);\n};//MAIN PROJECTS LIST\nvar projects_list=myProjects.map(function(project,index){// var refName = 'ref' + {project};\n// const { ref: refName, inView: inView2, entry } = useInView({\n//   rootMargin: '-210px'\n// });\nif(project.isCS){return/*#__PURE__*/_jsxs(WorkItem,{id:index,ref:myRefs[index],onClick:function onClick(){return handleClick(index);},currProj:projectValue,thisProj:index,children:[project.name,/*#__PURE__*/_jsx(CaseStudy,{children:\"CASE STUDY\"})]});}else{return/*#__PURE__*/_jsx(WorkItem,{id:index,ref:myRefs[index],onClick:function onClick(){return handleClick(index);},currProj:projectValue,thisProj:index,children:project.name})// <InView>\n//   {({ inView, ref, entry }) => (\n//     <WorkItem ref={refName} id={\"testID\" + project}>\n//       {project.name}\n//       <ImageHover heightVar={\"1\" + project.val + \"%\"}>\n//         <img src={\"testProjCover\" + project.val + \".png\"} />\n//       </ImageHover>  \n//     </WorkItem>\n//   )}\n// </InView>\n;}});//test projects list\n// const { ref: refName, inView: inView2, entry: entry2 } = useInView({\n//   rootMargin: '-210px'\n// });\n// console.log('current proj index', projectValue);\n// console.log('curr project visit', myProjects[projectValue].link.length);\nvar tagsDisplayed=myProjects[projectValue].tags.map(function(tag,index){return/*#__PURE__*/_jsx(ProjTags,{tag:tag,index:index,tagsLength:4},tag.id);});var visit_link=function visit_link(){if(myProjects[projectValue].link.length==1){// console.log(\"got to link\");\nreturn/*#__PURE__*/_jsx(VisitLink,{href:myProjects[projectValue].link[0],target:\"_blank\",children:\"Visit \\u2197\"});}else{return;}};function ProjContent(_ref3){var project=_ref3.project;if(projectDisplayed==project.id){return/*#__PURE__*/_jsx(SingleWork,{project:project,selected:true,toggle:toggleImgZoom,imageZoomed:imageZoomed});}else{return/*#__PURE__*/ (// <SingleWork project={project} selected={true}></SingleWork>\n_jsx(_Fragment,{}));}}// let proj_preview = projects.map((project) => {\n//   if ((projectDisplayed + 1) > 18) {\n//     return (\n//       // <NextProj onClick={() => (handleDisplayProject(projectDisplayed + 1))}>\n//         <p>{project.name}</p>\n//       // </NextProj>\n//     );\n//   } else {\n//     return (\n//       <WorkItem filteredOut={true}><WorkName isBg={true} filteredOut={true} oddItem={isOdd(project.id)}>{project.name} </WorkName></WorkItem>\n//       );\n//   }\n// });\nvar project_content=projects.map(function(project){return/*#__PURE__*/_jsx(ProjContent,{project:project},project.id);});var pageVariants={initial:{y:\"101vh\"// opacity: 0\n},in:{y:\"0\"// opacity: 1\n},out:{y:\"101vh\"// opacity: 0\n}};var pageVariantsWorks={initial:{x:\"100vw\"// opacity: 0\n},in:{x:\"calc(7.15vw + 3rem)\"// opacity: 1\n},out:{x:\"100vw\"// opacity: 0\n}};var pageTransition={type:\"tween\",ease:[0.7,0,0.13,1],duration:0.85};var worksVariants={// transition: { staggerChildren: 0.07, delayChildren: 0.2 }\nhidden:{y:\"-20vh\",opacity:0},show:{y:\"0vw\",opacity:1,// transition: {\n//   staggerChildren: 1, delayChildren: 0.5, duration: 2\n// }\ntransiiton:{type:\"tween\",ease:[0.7,0,0.13,1],duration:10}}};var pageVariants2={initial:{opacity:0,x:\"-100vw\",scale:0.8},in:{opacity:1,x:0,scale:1},out:{opacity:0,x:\"-100vw\",scale:1.2}};// console.log(window.screen.height);\nvar rightImageSource=\"testProjCover\"+projectValue+\".png\";//TODO: Fix filters not working\nreturn/*#__PURE__*/_jsxs(Container// id=\"head\"\n// as={motion.div}\n// initial=\"initial\"\n// animate=\"in\"\n// exit=\"out\"\n// variants={pageVariants2}\n// transition={pageTransition}\n,{children:[/*#__PURE__*/_jsxs(WorkListContainer,{id:\"topWorks\",ref:ListContainerRef,as:motion.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.5}},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.8},children:[/*#__PURE__*/_jsx(Marker,{}),/*#__PURE__*/_jsxs(WorkActions,{as:motion.div,initial:{y:'150px'},animate:{y:0,position:'fixed'},exit:{y:'150px',transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.5,delay:0.1}},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.5,delay:0.1},children:[/*#__PURE__*/_jsx(WorkName,{children:projectValue}),/*#__PURE__*/_jsx(TagsContainer,{children:tagsDisplayed}),/*#__PURE__*/_jsx(Details,{to:\"/\"+projectValue+\"/works\",id:\"proj1\",children:\"Details  \\u2192\"}),visit_link]}),projects_list]}),/*#__PURE__*/_jsxs(ContentBg// bgFileName={rightImageSource}\n,{as:motion.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.8},children:[/*#__PURE__*/_jsx(\"img\",{src:rightImageSource}),/*#__PURE__*/_jsx(BgBlur,{})]}),/*#__PURE__*/_jsx(WorkImageContainer,{children:/*#__PURE__*/_jsx(WorkImage,{as:motion.div,initial:{opacity:0,scale:0.99},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.99,transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.5}},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.5},children:/*#__PURE__*/_jsx(\"img\",{src:rightImageSource})})})]});};export default connect(function(_ref4){var projects=_ref4.projects;return{projects:projects};})(Works);","map":{"version":3,"sources":["/home/portfolio/v2/web-ui/src/components/Works/index.js"],"names":["React","useState","useEffect","useRef","useCallback","useInView","inView","InView","connect","motion","Link","LinkRouter","SingleWork","MobileTopButton","Container","Marker","HitMarker","ProjectTag","ContentBg","WorkListContainer","WorkName","WorkDesc","VisitLink","Fake","ImageHover","WorkItem","WorkIndex","TagsContainer","WorkContents","TagsDivider","WorkActions","Details","WorkImageContainer","WorkImage","BgBlur","WorkList","CaseStudy","Divider","Scrollbar","FixedContent","Works","projects","aboutToggle","projectDisplayed","setProjectDisplayed","hoverAllowed","setHoverAllowed","imageZoomed","setImageZoomed","rootMargin","myRef1","ref","entry","projectValue","setProjectValue","toggleImgZoom","isOdd","index","handleDisplayProject","currHoverAllowed","togglePage","ProjTags","tag","tagsLength","pageVariants3","initial","opacity","x","scale","in","outOther","transition","delay","type","ease","duration","outSelected","position","top","proj1","name","val","isCS","tags","link","proj2","proj3","proj4","proj5","proj6","proj7","proj8","proj9","myProjects","ListContainerRef","observerOptions","root","target","myRefs","push","i","length","observer","IntersectionObserver","projectsList","isIntersecting","console","log","id","style","observe","current","timeout","Promise","res","setTimeout","handleClick","scrollIntoView","behavior","projects_list","map","project","tagsDisplayed","visit_link","ProjContent","project_content","pageVariants","y","out","pageVariantsWorks","pageTransition","worksVariants","hidden","show","transiiton","pageVariants2","rightImageSource","div"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useInView, inView, InView } from 'react-intersection-observer';\nimport { connect } from \"react-redux\";\nimport { motion } from \"framer-motion\";\nimport { Link as LinkRouter } from 'react-router-dom';\nimport SingleWork from \"./SingleWork\";\nimport MobileTopButton from \"../MobileTopButton\";\nimport {\n  Container,\n  Marker,\n  HitMarker,\n  ProjectTag,\n  ContentBg,\n  WorkListContainer,\n  WorkName,\n  WorkDesc,\n  VisitLink,\n  Fake,\n  ImageHover,\n  WorkItem,\n  WorkIndex,\n  TagsContainer,\n  WorkContents,\n  TagsDivider,\n  WorkActions,\n  Details,\n  WorkImageContainer,\n  WorkImage,\n  BgBlur,\n  WorkList,\n  CaseStudy,\n  Divider\n} from \"./WorkElements\";\nimport Scrollbar from \"smooth-scrollbar\";\nimport { FixedContent } from \"./WorkExpandedElements\";\n\n// const options = {\n//   damping: 0.1,\n//   renderByPixels: true,\n//   alwaysShowTracks: false,\n//   continuousScrolling: false\n// }\n\n// Scrollbar.init(document.querySelector('#my-scrollbar'), options);\n\nconst Works = ({ projects, aboutToggle }) => {\n\n  const [projectDisplayed, setProjectDisplayed] = useState(0);\n  const [hoverAllowed, setHoverAllowed] = useState(true);\n  const [imageZoomed, setImageZoomed] = useState(false);\n\n  const { ref: myRef1, inView, entry } = useInView({\n    rootMargin: '-210px'\n  });\n\n  // const myRef1 = useRef();\n  // const [selectedProjVisible, setSelectedProjVisible] = useState();\n\n  // console.log('selectedProjVisible: ' + selectedProjVisible);\n  \n  // if(inView) {\n  //   // console.log('ref: ',  myRef1.current);\n  //   // console.log('entry', entry);\n  //   // console.log('about to update proj desc');\n  // }\n\n  const [projectValue, setProjectValue] = useState(0);\n\n  // useEffect(() =>  {\n  //   console.log('ref: ' + myRef1.current);\n  //   const observer = new IntersectionObserver((entries) => {\n  //     const entry = entries[0];\n  //     setSelectedProjVisible(entry.isIntersecting);\n  //     // console.log('entry: ' + entry); \n  //   })\n  //   observer.observe(myRef1.current);\n  // }, []) \n\n  // const [topVal, setTopVal] = useState(\"-1px\");\n  // const [leftVal, setLeftVal] = useState(\"-1px\");\n\n  // console.log(projects.length);\n  //TODO: pass in Projects Length as variable instaed of Connecting to Store to retrieve\n  // let margin = (64 / projects.length) * .8;\n  // let y_index = ((project.id - 1) * margin) + 49;\n  // let stringY = y_index + \"vh\";\n  // let stringY2 = (y_index - 2) + \"vh\";\n  // console.log(\"stringY2: \" + stringY2);\n\n  // document.onmousemove = function(event) {\n  //   // pointerX = event.screenX + \"px\";\n  //   // pointerY = event.screenY + \"px\";\n  //   if (event.pageY >= (window.innerHeight - 340)) {\n  //       setTopVal((event.pageY - 340) + \"px\");\n  //       setLeftVal((event.pageX + 2) + \"px\");\n  //   } else {\n  //       setTopVal((event.pageY + 1) + \"px\");\n  //       setLeftVal((event.pageX + 2) + \"px\");\n  //   }\n  // }\n\n  // if ( this.state.displayQuestions ) {\n  //   questions = (\n  //   <div>\n  //        { this.state.questions.map((question, index) => {\n  //             return <Question key={question.id}\n  //             title={question.title} />\n  //        })}\n  //   </div>\n  //   )\n  // }\n\n  const toggleImgZoom = () => {\n    setImageZoomed(!imageZoomed);\n    // console.log(\"Img Toggle reached.\");\n    // console.log(\"curr zoom status: \" + imageZoomed);\n  };\n\n  const isOdd = (index) => {\n    if (index % 2 == 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  // const [header, setHeader] = useState(\"header\");\n\n  // const listenScrollEvent = (event) => {\n  //   if (WorkListContainer.scrollY < 250) {\n  //     // console.log(\"got to scroll listener event\");\n  //   } else if (WorkListContainer.scrollY > 250) {\n  //     // console.log(\"got to scroll listener event\");\n  //   }\n  // // };\n\n  // useEffect(() => {\n  //   window.addEventListener(\"scroll\", listenScrollEvent);\n\n  //   return () => window.removeEventListener(\"scroll\", listenScrollEvent);\n  // }, []);\n\n  // ----------------------------------------------------------------------------------------\n  // ON SCROLL, UPDATE THE IMAGE AND DESCRIPTION DETAILS\n  // const changeSelector = () => {\n  //   // if scroll = project number * divided value\n  //   if(window.scrollY >= 80 && window.scrollY < 250) {\n  //       // setCurrImage(true);\n  //     console.log(\"got to scroll listener event\");\n  //     setProjectDisplayed(2);\n  //   } else {\n  //       // setCurrImage(false);\n  //     }\n  // };\n\n  // useEffect(() => {\n  //   window.addEventListener('scroll', changeSelector)\n  // }, []);\n\n  const handleDisplayProject = (index) => {\n    var currHoverAllowed = hoverAllowed;\n    // console.log(\"proj: \" + projectDisplayed);\n    // console.log(\"hover: \" + hoverAllowed);\n\n    if (index > 16) {\n      setProjectDisplayed(1);\n    } else if (index == 0) {\n      setProjectDisplayed(15);\n    } else if (index != -1) {\n      setProjectDisplayed(index);\n      setHoverAllowed(false);\n      // console.log(\"index: \" + index);\n    } else if (projectDisplayed == index) {\n      setProjectDisplayed(-1);\n      setHoverAllowed(true);\n      // console.log(\"deselecting\");\n    } else {\n      setHoverAllowed(true);\n      // setProjectDisplayed(0);\n      // console.log(\"hover: \" + hoverAllowed);\n      // console.log(\"deselecting\");\n    }\n  };\n\n  const togglePage = () => {\n    handleDisplayProject(-1);\n  };\n\n  // ARROWS TO SWITCH BETWEEN PROJECTS, ANIMATE VERTICALLY\n\n  function ProjTags({ tag, index, tagsLength }) {\n    // if (index == tagsLength - 1) {\n    //   return (\n    //     <ProjectTag>{tag}.</ProjectTag>\n    //   );\n    // } else {\n    //   return <ProjectTag>{tag}. </ProjectTag>;\n    // }\n      return <ProjectTag>{tag}. <p /></ProjectTag>;\n  }\n\n  const pageVariants3 = {\n    initial: {\n      opacity: 0,\n      x: \"-100vw\",\n      scale: 0.8,\n    },\n    in: {\n      opacity: 1,\n      // y: '4.5rem',\n      x: 0,\n      scale: 1,\n    },\n    outOther: {\n      opacity: 0,\n      x: \"-100vw\",\n      scale: 1,\n      transition: {delay: 0, type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.85},\n    },\n    outSelected: {\n      opacity: 0,\n      position: 'aboslute',\n      top: 0,\n      scale: 1,\n      transition: {delay: 0.2, type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.7},\n    },\n  };\n\n\n  // let project_previews = projects.map((project) => {\n  //   if (project.id < 16) {\n  //     return (\n  //       <WorkImageItem>\n  //         <Image>\n  //           <img src={\"imgs/\" + project.imgs[0]} />\n  //         </Image>\n  //       </WorkImageItem>\n  //     )\n  //   }\n  // });\n\n  // OLD LIST OF PROJECTS\n  // let project_names = projects.map((project) => {\n  //   // means no content displayed\n  //   var zerofilled = (\"0\" + project.id).slice(-2);\n\n  //   const tagsDisplayed = project.tags.map((tag, index) => (\n  //     <ProjTags\n  //       tag={tag}\n  //       key={tag.id}\n  //       index={index}\n  //       tagsLength={project.tags.length}\n  //     />\n  //   ));\n\n  //   let index_str = \"proj\" + project.id;\n\n  //   let filteredOut = false;\n\n  //   // if (filterType != 0 && project.type != filterType) {\n  //   //   filteredOut = true;\n  //   // }\n\n  //   if (project.id < 17) {\n  //     console.log(\"filtered out for \" + project.id + \": \" + filteredOut);\n  //     // if (filterType == 0 || filterType == project.type) {\n  //       return (\n  //         <WorkItem\n  //           as={motion.div}\n  //           initial=\"initial\"\n  //           animate=\"in\"\n  //           exit={projectDisplayed === project.id ? \"outSelected\" : \"outOther\"}\n  //           variants={pageVariants3}\n  //           transition={{\n  //             type: \"tween\",\n  //             ease: [0.7, 0, 0.13, 1],\n  //             duration: 0.8,\n  //             delay: project.id * 0.16,\n  //           }}\n  //           onClick={() => handleDisplayProject(project.id)}\n  //           projectDisplayed={projectDisplayed}\n  //           projectId={project.id}\n  //           filteredOut={false}\n  //         >\n  //           <WorkContents\n  //             to={\"/\" + project.id + \"/works\"}\n  //             id={\"proj\" + project.id}\n  //             projectType={project.type}\n  //             // filter={filterType}\n  //             filteredOut={false}\n  //             projectDisplayed={projectDisplayed}\n  //             projectId={project.id}\n  //           >\n  //             <WorkIndex>{zerofilled}</WorkIndex>\n  //             <WorkName>{project.name}</WorkName>\n  //             <TagsContainer>{tagsDisplayed}</TagsContainer>\n  //             <TagsDivider />\n  //           </WorkContents>\n  //           {/* <Image hoverAllowed={hoverAllowed}>\n  //             <img src={\"imgs/\" + project.imgs[0]} />\n  //           </Image> */}\n  //         </WorkItem>\n  //       );\n  //     // }\n  //   }\n  // });\n\n\n  const proj1 = { name: 'June ggg ONE One GGG One ogg', val: 1, isCS: true, tags: ['UX Design', 'Figma', 'React.JS'], link: ['https://www.junehomes.com'] }\n  const proj2 = { name: 'Two', val: 2, isCS: false, tags: ['2UX Design', 'Figma', 'React.JS'], link: [] }\n  const proj3 = { name: 'three', val: 3, isCS: false, tags: ['3UX Design', 'Figma', 'React.JS'], link: [] }\n  const proj4 = { name: 'four', val: 4, isCS: true, tags: ['4UX Design', 'Figma', 'React.JS'], link: ['https://www.junehomes.com'] }\n  const proj5 = { name: 'five', val: 5, isCS: false, tags: ['5UX Design', 'Figma', 'React.JS'], link: [] }\n  const proj6 = { name: 'six', val: 6, isCS: false, tags: ['6UX Design', 'Figma', 'React.JS'], link: [] }\n  const proj7 = { name: 'seven', val: 7, isCS: true, tags: ['7UX Design', 'Figma', 'React.JS'], link: [] }\n  const proj8 = { name: 'eight', val: 8, isCS: false, tags: ['8UX Design', 'Figma', 'React.JS'], link: [] }\n  const proj9 = { name: 'nine', val: 9, isCS: false, tags: ['9UX Design', 'Figma', 'React.JS'], link: [] }\n  \n  const myProjects = [ proj1, proj2, proj3, proj4, proj5, proj6, proj7, proj8, proj9 ];\n\n  const ListContainerRef = useRef();\n\n  let observerOptions = {\n    root: ListContainerRef.target,\n    rootMargin: '-49% 0px -50% 0px',\n    // threshold: 0.1\n  }\n\n  const myRefs = [];\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n\n  useEffect (() => {\n      // const observer = new IntersectionObserver((projectsList) => {\n      //     console.log(\"projects list\", projectsList);\n      //     console.log('root', projectsList.root);\n      // }, observerOptions)\n      for (var i = 0; i < myRefs.length; i++) { \n          // console.log('curr', myRefs[i].current);\n          // console.log('root', root);\n          const observer = new IntersectionObserver((projectsList) => {\n            if (projectsList[0].isIntersecting) {\n              console.log('scroll - current proj index', projectValue);\n              setProjectValue(projectsList[0].target.id);\n              projectsList[0].target.style.opacity = 1.0;\n            } else {\n              projectsList[0].target.style.opacity = 0.5;\n            }\n          }, observerOptions)\n          observer.observe(myRefs[i].current);\n      }\n  }, [])\n\n  function timeout(delay) {\n    return new Promise( res => setTimeout(res, delay) );\n  }\n\n  const handleClick = (index) => {\n    // console.log('proj clicked', index);\n    console.log('clicked - current proj index', projectValue);\n    myRefs[index].current?.scrollIntoView({ behavior: 'smooth' });\n    // await timeout(1000); //for 1 sec delay\n    // setProjectValue(index);\n  }\n\n  //MAIN PROJECTS LIST\n  let projects_list = myProjects.map((project, index) => {\n\n    // var refName = 'ref' + {project};\n    // const { ref: refName, inView: inView2, entry } = useInView({\n    //   rootMargin: '-210px'\n    // });\n\n    if (project.isCS) {\n      return (\n        <WorkItem id={index} ref={myRefs[index]} onClick={()=> handleClick(index)} currProj={projectValue} thisProj={index}>\n          {project.name}\n          {/* <Fake>{projectValue}</Fake> */}\n          <CaseStudy>CASE STUDY</CaseStudy>\n        </WorkItem>\n      )\n    } else {\n      return (\n        <WorkItem id={index} ref={myRefs[index]} onClick={()=> handleClick(index)} currProj={projectValue} thisProj={index}>\n          {project.name}\n          {/* <Fake>{projectValue}</Fake> */}\n        </WorkItem>\n        // <InView>\n        //   {({ inView, ref, entry }) => (\n        //     <WorkItem ref={refName} id={\"testID\" + project}>\n        //       {project.name}\n        //       <ImageHover heightVar={\"1\" + project.val + \"%\"}>\n        //         <img src={\"testProjCover\" + project.val + \".png\"} />\n        //       </ImageHover>  \n        //     </WorkItem>\n        //   )}\n        // </InView>\n      )\n    }\n  });\n\n\n  //test projects list\n  // const { ref: refName, inView: inView2, entry: entry2 } = useInView({\n  //   rootMargin: '-210px'\n  // });\n\n\n\n  // console.log('current proj index', projectValue);\n  // console.log('curr project visit', myProjects[projectValue].link.length);\n\n  let tagsDisplayed = myProjects[projectValue].tags.map((tag, index) => (\n    <ProjTags\n      tag={tag}\n      key={tag.id}\n      index={index}\n      tagsLength={4}\n    />\n  ));\n\n  let visit_link = () => {\n    if (myProjects[projectValue].link.length == 1) {\n      // console.log(\"got to link\");\n\n      return (\n        <VisitLink href={myProjects[projectValue].link[0]} target=\"_blank\">\n          Visit ↗\n        </VisitLink>\n      )\n    } else {\n      return;\n    }\n  }\n\n  function ProjContent({ project }) {\n    if (projectDisplayed == project.id) {\n      return (\n        <SingleWork\n          project={project}\n          selected={true}\n          toggle={toggleImgZoom}\n          imageZoomed={imageZoomed}\n        ></SingleWork>\n      );\n    } else {\n      return (\n        // <SingleWork project={project} selected={true}></SingleWork>\n        <></>\n      );\n    }\n  }\n\n  // let proj_preview = projects.map((project) => {\n  //   if ((projectDisplayed + 1) > 18) {\n  //     return (\n  //       // <NextProj onClick={() => (handleDisplayProject(projectDisplayed + 1))}>\n  //         <p>{project.name}</p>\n  //       // </NextProj>\n  //     );\n  //   } else {\n  //     return (\n  //       <WorkItem filteredOut={true}><WorkName isBg={true} filteredOut={true} oddItem={isOdd(project.id)}>{project.name} </WorkName></WorkItem>\n  //       );\n  //   }\n  // });\n\n  let project_content = projects.map((project) => {\n    return <ProjContent project={project} key={project.id} />;\n  });\n\n  const pageVariants = {\n    initial: {\n      y: \"101vh\",\n      // opacity: 0\n    },\n    in: {\n      y: \"0\",\n      // opacity: 1\n    },\n    out: {\n      y: \"101vh\",\n      // opacity: 0\n    },\n  };\n\n  const pageVariantsWorks = {\n    initial: {\n      x: \"100vw\",\n      // opacity: 0\n    },\n    in: {\n      x: \"calc(7.15vw + 3rem)\",\n      // opacity: 1\n    },\n    out: {\n      x: \"100vw\",\n      // opacity: 0\n    },\n  };\n\n  const pageTransition = {\n    type: \"tween\",\n    ease: [0.7, 0, 0.13, 1],\n    duration: 0.85,\n  };\n\n  const worksVariants = {\n    // transition: { staggerChildren: 0.07, delayChildren: 0.2 }\n    hidden: { y: \"-20vh\", opacity: 0 },\n    show: {\n      y: \"0vw\",\n      opacity: 1,\n      // transition: {\n      //   staggerChildren: 1, delayChildren: 0.5, duration: 2\n      // }\n      transiiton: { \n        type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 10,\n      },\n    },\n  };\n\n  const pageVariants2 = {\n    initial: {\n      opacity: 0,\n      x: \"-100vw\",\n      scale: 0.8,\n    },\n    in: {\n      opacity: 1,\n      x: 0,\n      scale: 1,\n    },\n    out: {\n      opacity: 0,\n      x: \"-100vw\",\n      scale: 1.2,\n    },\n  };\n\n  // console.log(window.screen.height);\n\n  let rightImageSource = \"testProjCover\" + projectValue + \".png\";\n\n  //TODO: Fix filters not working\n  return (\n    <Container\n      // id=\"head\"\n      // as={motion.div}\n      // initial=\"initial\"\n      // animate=\"in\"\n      // exit=\"out\"\n      // variants={pageVariants2}\n      // transition={pageTransition}\n    >\n      {/* <Label as={motion.div} initial=\"initial\"\n          animate=\"in\"\n          exit=\"out\"\n          variants={filtersVariants}\n          transition={filtersTransition} id=\"filters\">Filters:</Label> */}\n      {/* <WorksContainerMove \n          as={motion.div} initial=\"initial\"\n          animate=\"in\"\n          exit=\"out\"\n          variants={pageVariantsWorks}\n          transition={pageTransition}\n        > */}\n\n      {/* <TopOfWorks\n        to={\"proj2\"}\n        smooth={true}\n        duration={500}\n        spy={true}\n        offset={-80}\n        exact=\"true\"\n      >\n        top\n      </TopOfWorks> */}\n      {/* <Divider /> */}\n\n      <WorkListContainer id=\"topWorks\"\n        ref={ListContainerRef}\n        as={motion.div}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0, transition: {\n              type: \"tween\",\n              ease: [0.7, 0, 0.13, 1],\n              duration: 0.5,\n          } }}\n        transition={{\n            type: \"tween\",\n            ease: [0.7, 0, 0.13, 1],\n            duration: 0.8,\n        }}\n      >\n        {/* {project_names} */}\n        {/* <HitMarker /> */}\n        <Marker />\n        <WorkActions\n          as={motion.div}\n          initial={{ y: '150px' }}\n          animate={{ y: 0, position: 'fixed' }}\n          exit={{ y: '150px', transition: {\n                type: \"tween\",\n                ease: [0.7, 0, 0.13, 1],\n                duration: 0.5,\n                delay: 0.1\n            } }}\n          transition={{\n              type: \"tween\",\n              ease: [0.7, 0, 0.13, 1],\n              duration: 0.5,\n              delay: 0.1\n          }}\n        >\n          <WorkName>{projectValue}</WorkName>\n          <TagsContainer>{tagsDisplayed}</TagsContainer>\n\n          <Details\n            to={\"/\" + projectValue + \"/works\"}\n            id={\"proj1\"}\n          >\n            Details  →\n          </Details>\n          {visit_link}\n        </WorkActions>\n\n        {projects_list}\n\n      </WorkListContainer>\n\n      {/* <WorksContainer id=\"topWorks\" zVal=\"999\">\n        {project_previews}\n      </WorksContainer> */}\n      {/* </WorksContainerMove> */}\n\n      <ContentBg\n        // bgFileName={rightImageSource}\n        as={motion.div}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{\n            type: \"tween\",\n            ease: [0.7, 0, 0.13, 1],\n            duration: 0.8,\n        }}\n      >\n        <img src={rightImageSource}/>\n        <BgBlur />\n      </ContentBg>\n\n      <WorkImageContainer>\n        <WorkImage\n          as={motion.div}\n          initial={{ opacity: 0, scale: 0.99 }}\n          animate={{ opacity: 1, scale: 1}}\n          exit={{ opacity: 0, scale: 0.99, transition: {\n                type: \"tween\",\n                ease: [0.7, 0, 0.13, 1],\n                duration: 0.5,\n            } }}\n          transition={{\n              type: \"tween\",\n              ease: [0.7, 0, 0.13, 1],\n              duration: 0.5,\n          }}\n        >\n          <img src={rightImageSource}/>\n        </WorkImage>\n      </WorkImageContainer>\n\n      {/* <ContentContainer\n          as={motion.div} initial={{ x: '-101vw', y: '0' }} \n          animate={hoverAllowed ? { x: '-101vw', y: '-100vh' } : { x: '0', y: '-100vh'}}\n          transition={{\n            type: \"tween\",\n            ease: [0.7, 0, 0.13, 1],\n            duration: 0.9 }} showContent={!hoverAllowed}\n          >{project_content}\n        </ContentContainer> */}\n      {/* <ContentBg isBehind={imageZoomed} as={motion.div} initial={{ x: '100vw' }} \n          animate={hoverAllowed ? { x: '100vw' } : { x: 'calc(94vw - 3.5rem - 1px)' }}\n          transition={{ duration: 0.7 }}>\n            <AllProjs onClick={() => (handleDisplayProject(-1))}>Close</AllProjs>\n            <NextProj onClick={() => (handleDisplayProject(projectDisplayed + 1))}>\n              <NextProjLabel>Next Project</NextProjLabel>\n            </NextProj>\n            <PrevProj onClick={() => (handleDisplayProject(projectDisplayed - 1))}>\n              <PrevProjLabel>Previous Project</PrevProjLabel>\n            </PrevProj>\n        </ContentBg> */}\n    </Container>\n  );\n};\n\nexport default connect(({ projects }) => ({ projects }))(Works);\n"]},"metadata":{},"sourceType":"module"}