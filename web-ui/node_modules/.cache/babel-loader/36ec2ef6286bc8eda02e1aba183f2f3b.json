{"ast":null,"code":"import _regeneratorRuntime from\"/home/portfolio/v2/web-ui/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/portfolio/v2/web-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/portfolio/v2/web-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{connect}from'react-redux';import{useLocation,Redirect}from'react-router-dom';import{ListContainer}from'./WorkElements';import{withRouter}from'react-router';import{motion}from\"framer-motion\";import MobileTopButton from'../MobileTopButton';import{Container,Header,TableOfContents,Visit,CloseTOC,MobileTags,MobileTOCToggle,TopSticky,LeftTitle,CaseStudy,CaseStudy2,MobileTOCLabel,MobileTOCContainer,OverviewTag,MobileTOC,Subsection,InlineLink,Sub2,Fancy,NavButtons,WorkNav,NextWork,Back,Content,FixedContent,Title,TagsContainer,Tag,Details,Overview,PicContainer,Thumbnails,ThumbnailSelector,PicScroll,Controls,WorkContent,Label,Desc,DateClass,TOCItem,TOCItem2,Date,Class,InsideHeaderContainer,DividerTOC}from'./WorkExpandedElements';// import { Work } from './SingleWorkElements';\n// import { load_defaults } from '../../api';\n// import { restore_session } from '../../store';\n// const WorkExpanded = () => {\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WorkExpanded=function WorkExpanded(_ref){var projects=_ref.projects;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showTOC=_useState2[0],setShowTOC=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currImage=_useState4[0],setCurrImage=_useState4[1];var location=useLocation();var work_id=location.pathname.split(\"/works\")[0];var work=projects[work_id.substring(1,work_id.length)];// console.log('selected work', work);\nvar next_id;var prev_id;if(work.id==17){next_id=1;prev_id=parseInt(work_id.substring(1,work_id.length))-1;console.log(\"caught max case\");}else if(work.id==1){console.log(\"caught 0 case\");next_id=parseInt(work_id.substring(1,work_id.length))+1;prev_id=17;}else{next_id=parseInt(work_id.substring(1,work_id.length))+1;prev_id=parseInt(work_id.substring(1,work_id.length))-1;}var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),mobileTOC=_useState6[0],setMobileTOC=_useState6[1];var toggleMobileTOC=function toggleMobileTOC(){console.log(\"mobile about showing\",mobileTOC);// setMobileTOC(true);\nsetMobileTOC(!mobileTOC);};var isLast=false;if(work_id==projects.length){isLast=true;}// console.log(\"imgs: \" + work.imgs);\nvar imgVariants={initial:{opacity:0,y:\"100vh\",scale:0.9},in:{opacity:1,y:'0',scale:1},out:{opacity:0,// y: \"-100vh\",\nscale:0.9,transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.7}}};var myPicRefs=[];myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());// const handleClick = (index) => {\n//     console.log('index', index, myPicRefs);\n//     console.log('ref clicked', myPicRefs[index].current);\n//     myPicRefs[index].current?.scrollIntoView({ behavior: 'smooth' });\n// }\nvar handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _myPicRefs$event$curr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log('before');\ntoggleMobileTOC();// await delay(300);\n(_myPicRefs$event$curr=myPicRefs[event].current)===null||_myPicRefs$event$curr===void 0?void 0:_myPicRefs$event$curr.scrollIntoView({behavior:'smooth'});// console.log('after');\ncase 2:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(_x){return _ref2.apply(this,arguments);};}();var project_tags=work.tags.map(function(tag,index){return/*#__PURE__*/_jsx(Tag,{children:tag});});//   let case_study = <></>\nvar is_cs=false;if(work.class_short==\"June\"){is_cs=true;}//   if \n// MAIN CONTENT HANDLER --------->\nfunction Content_Displayed(_ref3){var picture=_ref3.picture,index=_ref3.index;var index_int=index+1;var index_str='pic'+index_int;if(index==0){return/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(DateClass,{children:/*#__PURE__*/_jsx(CaseStudy,{isCS:is_cs,children:\" Case Study\"})}),/*#__PURE__*/_jsx(Title,{children:work.name}),/*#__PURE__*/_jsx(MobileTags,{children:project_tags}),/*#__PURE__*/_jsxs(Overview,{children:[/*#__PURE__*/_jsx(OverviewTag,{children:\"Overview\"}),work.desc]})]});}else{if(picture.startsWith('LINK:')){var link_url=picture.slice('5');return/*#__PURE__*/_jsx(InlineLink,{href:link_url,target:\"_blank\",children:link_url});}else if(picture.startsWith('SS2:')){var sub_name=picture.slice('4');return/*#__PURE__*/_jsx(Sub2,{ref:myPicRefs[index],children:sub_name});}else if(picture.includes(\"/\")){return/*#__PURE__*/_jsx(PicContainer,{id:index_str,index:index// isLast={is_last}\n,as:motion.div,initial:\"initial\",animate:\"in\",exit:\"out\",variants:imgVariants,transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.85,delay:(index+1)*0.1},children:/*#__PURE__*/_jsx(\"img\",{src:\"/imgs/\"+picture,alt:picture,id:\"project-img\"})});}else if(picture.startsWith('SS:')){var header_name=picture.slice('3');return/*#__PURE__*/_jsx(Subsection,{ref:myPicRefs[index],children:header_name});}else{return/*#__PURE__*/_jsx(Desc,{index:index// isLast={is_last}\n,as:motion.div,initial:\"initial\",animate:\"in\",exit:\"out\",variants:imgVariants,transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.85,delay:(index+1)*0.1},children:picture});}}}function ListofTOC(_ref4){var subsection=_ref4.subsection,index=_ref4.index;if(subsection.startsWith('SS:')){setShowTOC(true);var header_name=subsection.slice(3);return/*#__PURE__*/_jsx(TOCItem,{onClick:function onClick(){return handleClick(index);},children:header_name});}else if(subsection.startsWith('SS2:')){var sub_name=subsection.slice(4);return/*#__PURE__*/_jsx(TOCItem2,{onClick:function onClick(){return handleClick(index);},children:sub_name});}else{return/*#__PURE__*/_jsx(_Fragment,{});}}var updateCurrImage=function updateCurrImage(img_index){// console.log(\"curr img index: \" + img_index);\nif(currImage!=img_index){setCurrImage(currImage);}};function Tags(_ref5){var tag=_ref5.tag;return/*#__PURE__*/_jsx(Tag,{children:tag});};var content_displayed=work.imgs.map(function(picture,index){return/*#__PURE__*/_jsx(Content_Displayed,{picture:picture,index:index},picture.id);});var table_of_contents=work.imgs.map(function(subsection,index){return/*#__PURE__*/ (// <Get_TOC subsection={subsection} key={subsection.id} index={index}/>\n_jsx(ListofTOC,{subsection:subsection,index:index},subsection.id)// <TOCItem>{subsection}</TOCItem>\n);});var leftVariants={initial:{opacity:0,y:'0',// y: \"-100vh\",\nscale:0.9},in:{opacity:1,// y: '2.5rem',\nscale:1},out:{opacity:0,// y: \"-100vh\",\nscale:1}};var controlVariants={initial:{opacity:0,y:'0s',x:'1.5rem',// y: \"-100vh\",\nscale:0.9},in:{opacity:1,x:0,// y: '2.5rem',\nscale:1},out:{opacity:0,// y: \"-100vh\",\nscale:1}};var leftTransition={type:\"tween\",ease:[0.7,0,0.13,1],duration:0.6};var rightTransition={type:\"tween\",ease:[0.7,0,0.13,1],duration:0.85};return/*#__PURE__*/_jsxs(Container,{id:\"head\"// as={motion.div}\n// initial=\"initial\"\n// animate=\"in\"\n// exit=\"out\"\n,children:[/*#__PURE__*/_jsxs(TopSticky,{isCS:is_cs,as:motion.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.5},children:[/*#__PURE__*/_jsx(Date,{children:work.semester}),/*#__PURE__*/_jsx(TagsContainer,{children:project_tags}),/*#__PURE__*/_jsx(Class,{children:work.class})]}),/*#__PURE__*/_jsx(WorkContent,{isCS:is_cs,as:motion.div,initial:{y:'100vh'},animate:{y:0},exit:{y:'-100vh',transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:.7}},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:1.2},children:content_displayed}),/*#__PURE__*/_jsxs(Controls,{as:motion.div,initial:{x:'-100vw'},animate:{x:0},exit:{x:'-100vw'},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.7},children:[/*#__PURE__*/_jsx(Back,{to:\"/works\",children:\"\\u2190 All Projects\"}),/*#__PURE__*/_jsx(CaseStudy2,{children:\"Case Study\"}),/*#__PURE__*/_jsx(LeftTitle,{children:work.name}),/*#__PURE__*/_jsxs(NavButtons,{children:[/*#__PURE__*/_jsx(WorkNav,{to:\"/\"+prev_id+\"/works\",currId:work.id,children:\"Previous\"}),/*#__PURE__*/_jsx(Date,{style:{paddingBottom:'26px'},children:projects[prev_id].name}),/*#__PURE__*/_jsx(WorkNav,{to:\"/\"+next_id+\"/works\",currId:work.id,children:\"Next\"}),/*#__PURE__*/_jsx(Date,{children:projects[next_id].name})]})]}),/*#__PURE__*/_jsxs(TableOfContents,{isCS:is_cs,as:motion.div,initial:{x:'100vw'},animate:{x:0},exit:{x:'100vw'},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.6},children:[/*#__PURE__*/_jsxs(\"p\",{style:{paddingBottom:'6px'},children:[\" \",showTOC?'Table of Contents':'']}),table_of_contents]}),/*#__PURE__*/_jsxs(MobileTOCContainer,{as:motion.div,initial:{x:0,y:'100vh'},animate:mobileTOC?{x:0,y:'15vh'}:{x:0,y:'100vh'},transition:{type:\"tween\",ease:[0.28,1.35,1.5,.91],duration:0.35},children:[/*#__PURE__*/_jsx(CloseTOC,{onClick:toggleMobileTOC,children:\"\\u2715\"}),/*#__PURE__*/_jsx(MobileTOC,{children:table_of_contents})]}),/*#__PURE__*/_jsx(MobileTOCToggle,{isCS:is_cs,children:/*#__PURE__*/_jsx(DividerTOC,{onClick:toggleMobileTOC,children:/*#__PURE__*/_jsx(MobileTOCLabel,{children:\"Table of Contents \\u2630\"})})})]});};export default withRouter(connect(function(_ref6){var projects=_ref6.projects;return{projects:projects};})(WorkExpanded));","map":{"version":3,"sources":["/home/portfolio/v2/web-ui/src/components/Works/WorkExpanded.js"],"names":["React","useState","useEffect","useRef","connect","useLocation","Redirect","ListContainer","withRouter","motion","MobileTopButton","Container","Header","TableOfContents","Visit","CloseTOC","MobileTags","MobileTOCToggle","TopSticky","LeftTitle","CaseStudy","CaseStudy2","MobileTOCLabel","MobileTOCContainer","OverviewTag","MobileTOC","Subsection","InlineLink","Sub2","Fancy","NavButtons","WorkNav","NextWork","Back","Content","FixedContent","Title","TagsContainer","Tag","Details","Overview","PicContainer","Thumbnails","ThumbnailSelector","PicScroll","Controls","WorkContent","Label","Desc","DateClass","TOCItem","TOCItem2","Date","Class","InsideHeaderContainer","DividerTOC","WorkExpanded","projects","showTOC","setShowTOC","currImage","setCurrImage","location","work_id","pathname","split","work","substring","length","next_id","prev_id","id","parseInt","console","log","mobileTOC","setMobileTOC","toggleMobileTOC","isLast","imgVariants","initial","opacity","y","scale","in","out","transition","type","ease","duration","myPicRefs","push","handleClick","event","current","scrollIntoView","behavior","project_tags","tags","map","tag","index","is_cs","class_short","Content_Displayed","picture","index_int","index_str","name","desc","startsWith","link_url","slice","sub_name","includes","div","delay","header_name","ListofTOC","subsection","updateCurrImage","img_index","Tags","content_displayed","imgs","table_of_contents","leftVariants","controlVariants","x","leftTransition","rightTransition","semester","class","paddingBottom"],"mappings":"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ArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,SAAS,CAACC,IAAV,CAAexF,MAAM,EAArB,EACAuF,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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { useLocation, Redirect } from 'react-router-dom';\nimport { ListContainer } from './WorkElements';\nimport { withRouter } from 'react-router';\nimport { motion } from \"framer-motion\";\nimport MobileTopButton from '../MobileTopButton';\nimport { Container, Header, TableOfContents, Visit, CloseTOC, MobileTags, MobileTOCToggle, TopSticky, LeftTitle, CaseStudy, CaseStudy2, MobileTOCLabel, MobileTOCContainer, OverviewTag, MobileTOC, Subsection, InlineLink, Sub2, Fancy, NavButtons, WorkNav, NextWork, Back, Content, FixedContent, Title, TagsContainer, Tag, Details, Overview, PicContainer, Thumbnails, ThumbnailSelector, PicScroll, Controls, WorkContent, Label, Desc, DateClass, TOCItem, TOCItem2, Date, Class, InsideHeaderContainer, DividerTOC } from './WorkExpandedElements';\n// import { Work } from './SingleWorkElements';\n// import { load_defaults } from '../../api';\n// import { restore_session } from '../../store';\n// const WorkExpanded = () => {\nconst WorkExpanded = ({ projects }) => {\n\n    const [showTOC, setShowTOC] = useState(false);\n    const [currImage, setCurrImage] = useState(1);\n\n    const location = useLocation();\n    let work_id = location.pathname.split(\"/works\")[0];\n    \n    let work = projects[work_id.substring(1, work_id.length)];\n\n    // console.log('selected work', work);\n\n    var next_id;\n    var prev_id;\n\n    if (work.id == 17) {\n        next_id = 1;\n        prev_id = parseInt(work_id.substring(1, work_id.length)) - 1;\n        console.log(\"caught max case\");\n    } else if (work.id == 1) {\n        console.log(\"caught 0 case\");\n        next_id = parseInt(work_id.substring(1, work_id.length)) + 1; \n        prev_id = 17;\n    } else {\n        next_id = parseInt(work_id.substring(1, work_id.length)) + 1; \n        prev_id = parseInt(work_id.substring(1, work_id.length)) - 1;\n    }\n\n    const [mobileTOC, setMobileTOC] = useState(false);\n\n    const toggleMobileTOC = () => {\n        console.log(\"mobile about showing\", mobileTOC);\n        // setMobileTOC(true);\n        setMobileTOC(!mobileTOC);\n    };\n\n    var isLast = false;\n\n    if (work_id == projects.length) {\n        isLast = true;\n    }\n\n    // console.log(\"imgs: \" + work.imgs);\n\n    const imgVariants = {\n        initial: {\n            opacity: 0,\n            y: \"100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            y: '0',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 0.9,\n            transition: {\n                type: \"tween\",\n                ease: [0.7, 0, 0.13, 1],\n                duration: 0.7,\n            }\n        },  \n    };\n\n    const myPicRefs = [];\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    \n    // const handleClick = (index) => {\n    //     console.log('index', index, myPicRefs);\n    //     console.log('ref clicked', myPicRefs[index].current);\n    //     myPicRefs[index].current?.scrollIntoView({ behavior: 'smooth' });\n    // }\n\n  const handleClick = async event => {\n    // console.log('before');\n    toggleMobileTOC();\n    // await delay(300);\n    myPicRefs[event].current?.scrollIntoView({ behavior: 'smooth' });\n    // console.log('after');\n  };\n\n\n  let project_tags = work.tags.map((tag, index) => (\n    <Tag>{tag}</Tag>\n  ));\n  \n//   let case_study = <></>\n\n    let is_cs = false;\n\n    if (work.class_short == \"June\") {\n        is_cs = true;\n    }\n//   if \n\n// MAIN CONTENT HANDLER --------->\n    function Content_Displayed({picture, index}) {\n        let index_int = index + 1; \n        let index_str = 'pic' + index_int;\n\n        if (index == 0) {\n            return (\n                <Header>\n                    <DateClass>\n                        {/* <Fancy> &#123; </Fancy> */}\n                            {/* <InsideHeaderContainer> */}\n                                <CaseStudy isCS={is_cs}> Case Study</CaseStudy>\n                                {/* <Class>{work.class}</Class> */}\n                            {/* </InsideHeaderContainer> */}\n                        {/* <Fancy> &#125; </Fancy> */}\n                    </DateClass>\n                    <Title>{work.name}</Title>\n                    {/* <Tag style={{ color: 'white', fontWeight: '600', paddingBottom: '6px' }}>Tags</Tag> */}\n                    <MobileTags>{project_tags}</MobileTags>\n                    <Overview>\n                        <OverviewTag>Overview</OverviewTag>\n                        {work.desc}\n                        {/* A series of three self-promotional posters. Explored which traits are core to my identity, and what differentiates me from my peers. Intended to express my identity in a way that creates emotional resonance in a memorable, yet authentic manner.  */}\n                    </Overview>\n                </Header>\n            );\n        } else {\n            if (picture.startsWith('LINK:')) {\n                let link_url = picture.slice('5');\n\n                return (\n                    <InlineLink href={link_url} target=\"_blank\">\n                        {link_url}\n                    </InlineLink>\n                )\n            } else if (picture.startsWith('SS2:')) {\n                let sub_name = picture.slice('4');\n\n                return (\n                    <Sub2 ref={myPicRefs[index]}>\n                        {sub_name}\n                    </Sub2>\n                )\n            } else if (picture.includes(\"/\")) {\n                return (\n                    <PicContainer id={index_str}\n                        index={index}\n                        // isLast={is_last}\n                        as={motion.div}\n                        initial=\"initial\"\n                        animate=\"in\"\n                        exit=\"out\"\n                        variants={imgVariants}\n                        transition={{\n                            type: \"tween\",\n                            ease: [0.7, 0, 0.13, 1],\n                            duration: 0.85,\n                            delay: (index + 1) * 0.1,\n                        }}\n                        >\n                        <img src={\"/imgs/\" + picture} alt={picture} id=\"project-img\"></img>   \n                    </PicContainer>\n                );\n            } else if (picture.startsWith('SS:')) {\n                let header_name = picture.slice('3');\n\n                return (\n                    <Subsection ref={myPicRefs[index]}>\n                        {header_name}\n                    </Subsection>\n                )\n            } else {\n               return (\n                   <Desc\n                    index={index}\n                    // isLast={is_last}\n                    as={motion.div}\n                    initial=\"initial\"\n                    animate=\"in\"\n                    exit=\"out\"\n                    variants={imgVariants}\n                    transition={{\n                        type: \"tween\",\n                        ease: [0.7, 0, 0.13, 1],\n                        duration: 0.85,\n                        delay: (index + 1) * 0.1,\n                    }}\n                   >\n                       {picture}\n                   </Desc>\n               )\n           }\n        }\n    }\n\n\n    function ListofTOC({subsection, index}) {\n        if (subsection.startsWith('SS:')) {\n            setShowTOC(true);\n\n            let header_name = subsection.slice(3);\n\n            return (\n                <TOCItem onClick={()=> handleClick(index)}>{header_name}</TOCItem>\n            )\n        } else if (subsection.startsWith('SS2:')) {\n            let sub_name = subsection.slice(4);\n\n            return (\n                <TOCItem2 onClick={()=> handleClick(index)}>{sub_name}</TOCItem2>\n            )\n        } else {\n            return (\n                <></>\n            )\n        }\n    }\n\n    const updateCurrImage = (img_index) => {\n        // console.log(\"curr img index: \" + img_index);\n        if (currImage != img_index) {\n            setCurrImage(currImage);\n        }\n    };\n\n    function Tags({tag}) {\n        return (\n            <Tag>{tag}</Tag>\n        )\n    };\n\n    const content_displayed = work.imgs.map((picture, index) => (\n        <Content_Displayed picture={picture} key={picture.id} index={index} />\n    ));\n\n    const table_of_contents = work.imgs.map((subsection, index) => (\n        // <Get_TOC subsection={subsection} key={subsection.id} index={index}/>\n        <ListofTOC subsection={subsection} key={subsection.id} index={index} />\n        // <TOCItem>{subsection}</TOCItem>\n    ));\n\n    const leftVariants = {\n        initial: {\n            opacity: 0,\n            y: '0',\n            // y: \"-100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            // y: '2.5rem',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 1,\n        },\n    };\n\n    const controlVariants = {\n        initial: {\n            opacity: 0,\n            y: '0s',\n            x: '1.5rem',\n            // y: \"-100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            x: 0,\n            // y: '2.5rem',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 1,\n        },\n    };\n\n    const leftTransition = {\n        type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.6,\n    }\n\n    const rightTransition = {\n        type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.85,\n    }\n\n\n    return (\n        <Container id='head'\n            // as={motion.div}\n            // initial=\"initial\"\n            // animate=\"in\"\n            // exit=\"out\"\n        >\n            <TopSticky\n                isCS={is_cs}\n                as={motion.div}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                transition={{\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: 0.5,\n                }}\n            >\n                <Date>{work.semester}</Date>\n                <TagsContainer>{project_tags}</TagsContainer>\n                <Class>{work.class}</Class>\n            </TopSticky>\n            \n            <WorkContent\n                isCS={is_cs}\n                as={motion.div}\n                initial={{ y: '100vh' }}\n                animate={{ y: 0 }}\n                exit={{ y: '-100vh', transition: {\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: .7}\n                }}\n                transition={{\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: 1.2,\n                }}\n            >\n                {content_displayed}\n            </WorkContent>\n\n            <Controls\n                as={motion.div}\n                initial={{ x: '-100vw' }}\n                animate={{ x: 0 }}\n                exit={{ x: '-100vw' }}\n                transition={{\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: 0.7,\n                }}\n            >\n                <Back to=\"/works\">← All Projects</Back>\n                <CaseStudy2>Case Study</CaseStudy2>\n                <LeftTitle>{work.name}</LeftTitle>\n                {/* <Visit href={\"https://www.junehomes.com\"} target=\"_blank\">Visit ↗</Visit> */}\n                <NavButtons>\n                    <WorkNav to={\"/\" + prev_id + \"/works\"} currId={work.id}>Previous</WorkNav>\n                    <Date style={{ paddingBottom: '26px' }}>{projects[prev_id].name}</Date>\n                    <WorkNav to={\"/\" + next_id + \"/works\"} currId={work.id}>Next</WorkNav>\n                    <Date>{projects[next_id].name}</Date>\n                </NavButtons>\n            </Controls>\n\n            <TableOfContents\n                isCS={is_cs}\n                as={motion.div}\n                initial={{ x: '100vw' }}\n                animate={{ x: 0 }}\n                exit={{ x: '100vw' }}\n                transition={{\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: 0.6,\n                }}\n            >\n                <p style={{ paddingBottom: '6px' }}> {showTOC ? 'Table of Contents' : ''}</p>\n                {table_of_contents}\n            </TableOfContents>\n\n            <MobileTOCContainer\n                as={motion.div}\n                initial={{ x: 0, y: '100vh' }}\n                animate={mobileTOC ? {  x: 0, y: '15vh' } : { x: 0, y: '100vh' }}\n                transition={{\n                type: \"tween\",\n                ease: [0.28, 1.35, 1.5, .91],\n                duration: 0.35  \n                }}\n            >\n                <CloseTOC onClick={toggleMobileTOC}>✕</CloseTOC>\n                <MobileTOC>\n                    {table_of_contents}\n                </MobileTOC>\n            </MobileTOCContainer>\n\n            <MobileTOCToggle isCS={is_cs}>\n                <DividerTOC onClick={toggleMobileTOC}>\n                    <MobileTOCLabel>Table of Contents ☰</MobileTOCLabel>\n                </DividerTOC>\n            </MobileTOCToggle>\n        </Container>\n    );\n};\n  \nexport default withRouter(connect(({ projects }) => ({ projects }))(WorkExpanded));"]},"metadata":{},"sourceType":"module"}