{"ast":null,"code":"import _regeneratorRuntime from\"/home/portfolio/v2/web-ui/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/portfolio/v2/web-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/portfolio/v2/web-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{connect}from'react-redux';import{useLocation,Redirect}from'react-router-dom';import{ListContainer}from'./WorkElements';import{withRouter}from'react-router';import{motion}from\"framer-motion\";import MobileTopButton from'../MobileTopButton';import{Container,Header,TableOfContents,Visit,CloseTOC,MobileTags,MobileTOCToggle,TopSticky,LeftTitle,CaseStudy,CaseStudy2,MobileTOCLabel,MobileTOCContainer,OverviewTag,MobileTOC,Subsection,InlineLink,Sub2,Fancy,NavButtons,WorkNav,NextWork,Back,Content,FixedContent,Title,TagsContainer,Tag,Details,Overview,PicContainer,Thumbnails,ThumbnailSelector,PicScroll,Controls,WorkContent,Label,Desc,DateClass,TOCItem,TOCItem2,Date,Class,InsideHeaderContainer,DividerTOC}from'./WorkExpandedElements';// import { Work } from './SingleWorkElements';\n// import { load_defaults } from '../../api';\n// import { restore_session } from '../../store';\n// const WorkExpanded = () => {\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WorkExpanded=function WorkExpanded(_ref){var projects=_ref.projects;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showTOC=_useState2[0],setShowTOC=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currImage=_useState4[0],setCurrImage=_useState4[1];var location=useLocation();var work_id=location.pathname.split(\"/works\")[0];var work_id_trunc=work_id.substring(1,work_id.length);console.log('this work_id',work_id);console.log('truncated work id',work_id_trunc);var work=projects[work_id_trunc];// let work = projects[work.id];\nconsole.log('selected work',work.name);var next_id;var prev_id;if(work_id_trunc==16){next_id=0;prev_id=parseInt(work_id_trunc-1);console.log(\"caught max case\");}else if(work_id_trunc==0){console.log(\"caught 0 case\");next_id=parseInt(work_id_trunc+1);prev_id=16;}else{next_id=parseInt(work_id_trunc+1);prev_id=parseInt(work_id_trunc-1);}console.log(\"prev id\",prev_id);console.log(\"next id\",next_id);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),mobileTOC=_useState6[0],setMobileTOC=_useState6[1];var toggleMobileTOC=function toggleMobileTOC(){console.log(\"mobile about showing\",mobileTOC);// setMobileTOC(true);\nsetMobileTOC(!mobileTOC);};var isLast=false;if(work_id==projects.length){isLast=true;}// console.log(\"imgs: \" + work.imgs);\nvar imgVariants={initial:{opacity:0,y:\"100vh\",scale:0.9},in:{opacity:1,y:'0',scale:1},out:{opacity:0,// y: \"-100vh\",\nscale:0.9,transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.7}}};var myPicRefs=[];myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());myPicRefs.push(useRef());// const handleClick = (index) => {\n//     console.log('index', index, myPicRefs);\n//     console.log('ref clicked', myPicRefs[index].current);\n//     myPicRefs[index].current?.scrollIntoView({ behavior: 'smooth' });\n// }\nvar handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _myPicRefs$event$curr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log('before');\ntoggleMobileTOC();// await delay(300);\n(_myPicRefs$event$curr=myPicRefs[event].current)===null||_myPicRefs$event$curr===void 0?void 0:_myPicRefs$event$curr.scrollIntoView({behavior:'smooth'});// console.log('after');\ncase 2:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(_x){return _ref2.apply(this,arguments);};}();var project_tags=work.tags.map(function(tag,index){return/*#__PURE__*/_jsx(Tag,{children:tag});});//   let case_study = <></>\nvar is_cs=false;if(work.class_short==\"June\"){is_cs=true;}//   if \n// MAIN CONTENT HANDLER --------->\nfunction Content_Displayed(_ref3){var picture=_ref3.picture,index=_ref3.index;var index_int=index+1;var index_str='pic'+index_int;if(index==0){return/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(DateClass,{children:/*#__PURE__*/_jsx(CaseStudy,{isCS:is_cs,children:\" Case Study\"})}),/*#__PURE__*/_jsx(Title,{children:work.name}),/*#__PURE__*/_jsx(MobileTags,{children:project_tags}),/*#__PURE__*/_jsxs(Overview,{children:[/*#__PURE__*/_jsx(OverviewTag,{children:\"Overview\"}),work.desc]})]});}else{if(picture.startsWith('LINK:')){var link_url=picture.slice('5');return/*#__PURE__*/_jsx(InlineLink,{href:link_url,target:\"_blank\",children:link_url});}else if(picture.startsWith('SS2:')){var sub_name=picture.slice('4');return/*#__PURE__*/_jsx(Sub2,{ref:myPicRefs[index],children:sub_name});}else if(picture.includes(\"/\")){return/*#__PURE__*/_jsx(PicContainer,{id:index_str,index:index// isLast={is_last}\n// as={motion.div}\n// initial=\"initial\"\n// animate=\"in\"\n// exit=\"out\"\n// variants={imgVariants}\n// transition={{\n//     type: \"tween\",\n//     ease: [0.7, 0, 0.13, 1],\n//     duration: 0.85,\n//     delay: (index + 1) * 0.1,\n// }}\n,children:/*#__PURE__*/_jsx(\"img\",{src:\"/imgs/\"+picture,alt:picture,id:\"project-img\"})});}else if(picture.startsWith('SS:')){var header_name=picture.slice('3');return/*#__PURE__*/_jsx(Subsection,{ref:myPicRefs[index],children:header_name});}else{return/*#__PURE__*/_jsx(Desc,{index:index// isLast={is_last}\n// as={motion.div}\n// initial=\"initial\"\n// animate=\"in\"\n// exit=\"out\"\n// variants={imgVariants}\n// transition={{\n//     type: \"tween\",\n//     ease: [0.7, 0, 0.13, 1],\n//     duration: 0.85,\n//     delay: (index + 1) * 0.1,\n// }}\n,children:picture});}}}function ListofTOC(_ref4){var subsection=_ref4.subsection,index=_ref4.index;if(subsection.startsWith('SS:')){setShowTOC(true);var header_name=subsection.slice(3);return/*#__PURE__*/_jsx(TOCItem,{onClick:function onClick(){return handleClick(index);},children:header_name});}else if(subsection.startsWith('SS2:')){var sub_name=subsection.slice(4);return/*#__PURE__*/_jsx(TOCItem2,{onClick:function onClick(){return handleClick(index);},children:sub_name});}else{return/*#__PURE__*/_jsx(_Fragment,{});}}var updateCurrImage=function updateCurrImage(img_index){// console.log(\"curr img index: \" + img_index);\nif(currImage!=img_index){setCurrImage(currImage);}};function Tags(_ref5){var tag=_ref5.tag;return/*#__PURE__*/_jsx(Tag,{children:tag});};var content_displayed=work.imgs.map(function(picture,index){return/*#__PURE__*/_jsx(Content_Displayed,{picture:picture,index:index},picture.id);});var table_of_contents=work.imgs.map(function(subsection,index){return/*#__PURE__*/ (// <Get_TOC subsection={subsection} key={subsection.id} index={index}/>\n_jsx(ListofTOC,{subsection:subsection,index:index},subsection.id)// <TOCItem>{subsection}</TOCItem>\n);});var leftVariants={initial:{opacity:0,y:'0',// y: \"-100vh\",\nscale:0.9},in:{opacity:1,// y: '2.5rem',\nscale:1},out:{opacity:0,// y: \"-100vh\",\nscale:1}};var controlVariants={initial:{opacity:0,y:'0s',x:'1.5rem',// y: \"-100vh\",\nscale:0.9},in:{opacity:1,x:0,// y: '2.5rem',\nscale:1},out:{opacity:0,// y: \"-100vh\",\nscale:1}};var leftTransition={type:\"tween\",ease:[0.7,0,0.13,1],duration:0.6};var rightTransition={type:\"tween\",ease:[0.7,0,0.13,1],duration:0.85};return/*#__PURE__*/_jsxs(Container,{id:\"head\"// as={motion.div}\n// initial=\"initial\"\n// animate=\"in\"\n// exit=\"out\"\n,children:[/*#__PURE__*/_jsxs(TopSticky,{isCS:is_cs,as:motion.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.5},children:[/*#__PURE__*/_jsx(Date,{children:work.semester}),/*#__PURE__*/_jsx(TagsContainer,{children:project_tags}),/*#__PURE__*/_jsx(Class,{children:work.class})]}),/*#__PURE__*/_jsx(WorkContent,{isCS:is_cs,as:motion.div,initial:{y:'100vh'},animate:{y:0},exit:{y:'-100vh',transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:.7}},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:1.2},children:content_displayed}),/*#__PURE__*/_jsxs(Controls,{as:motion.div,initial:{x:'-100vw'},animate:{x:0},exit:{x:'-100vw'},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.7},children:[/*#__PURE__*/_jsx(Back,{to:\"/works\",children:\"\\u2190 All Projects\"}),/*#__PURE__*/_jsx(CaseStudy2,{children:\"Case Study\"}),/*#__PURE__*/_jsx(LeftTitle,{children:work.name}),/*#__PURE__*/_jsxs(NavButtons,{children:[/*#__PURE__*/_jsx(Date,{children:\"Previous\"}),/*#__PURE__*/_jsx(WorkNav,{style:{paddingTop:'4px'},to:\"/\"+prev_id+\"/works\",currId:work.id,children:projects[prev_id].name}),/*#__PURE__*/_jsx(Date,{style:{paddingTop:'28px'},children:\"Next\"}),/*#__PURE__*/_jsx(WorkNav,{style:{paddingTop:'4px'},to:\"/\"+next_id+\"/works\",currId:work.id,children:projects[next_id].name})]})]}),/*#__PURE__*/_jsxs(TableOfContents,{isCS:is_cs,as:motion.div,initial:{x:'100vw'},animate:{x:0},exit:{x:'100vw'},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.6},children:[/*#__PURE__*/_jsxs(Date,{style:{textTransform:'uppercase'},children:[\" \",showTOC?'Table of Contents':'']}),table_of_contents]}),/*#__PURE__*/_jsxs(MobileTOCContainer,{as:motion.div,initial:{x:0,y:'100vh'},animate:mobileTOC?{x:0,y:'30vh'}:{x:0,y:'100vh'},transition:{type:\"tween\",ease:[0.28,1.35,1.5,.91],duration:0.35},children:[/*#__PURE__*/_jsx(CloseTOC,{onClick:toggleMobileTOC,children:\"\\u2715\"}),/*#__PURE__*/_jsx(MobileTOC,{children:table_of_contents})]}),/*#__PURE__*/_jsx(MobileTOCToggle,{isCS:is_cs,children:/*#__PURE__*/_jsx(DividerTOC,{onClick:toggleMobileTOC,children:/*#__PURE__*/_jsx(MobileTOCLabel,{children:\"Table of Contents \\u2630\"})})})]});};export default withRouter(connect(function(_ref6){var projects=_ref6.projects;return{projects:projects};})(WorkExpanded));","map":{"version":3,"sources":["/home/portfolio/v2/web-ui/src/components/Works/WorkExpanded.js"],"names":["React","useState","useEffect","useRef","connect","useLocation","Redirect","ListContainer","withRouter","motion","MobileTopButton","Container","Header","TableOfContents","Visit","CloseTOC","MobileTags","MobileTOCToggle","TopSticky","LeftTitle","CaseStudy","CaseStudy2","MobileTOCLabel","MobileTOCContainer","OverviewTag","MobileTOC","Subsection","InlineLink","Sub2","Fancy","NavButtons","WorkNav","NextWork","Back","Content","FixedContent","Title","TagsContainer","Tag","Details","Overview","PicContainer","Thumbnails","ThumbnailSelector","PicScroll","Controls","WorkContent","Label","Desc","DateClass","TOCItem","TOCItem2","Date","Class","InsideHeaderContainer","DividerTOC","WorkExpanded","projects","showTOC","setShowTOC","currImage","setCurrImage","location","work_id","pathname","split","work_id_trunc","substring","length","console","log","work","name","next_id","prev_id","parseInt","mobileTOC","setMobileTOC","toggleMobileTOC","isLast","imgVariants","initial","opacity","y","scale","in","out","transition","type","ease","duration","myPicRefs","push","handleClick","event","current","scrollIntoView","behavior","project_tags","tags","map","tag","index","is_cs","class_short","Content_Displayed","picture","index_int","index_str","desc","startsWith","link_url","slice","sub_name","includes","header_name","ListofTOC","subsection","updateCurrImage","img_index","Tags","content_displayed","imgs","id","table_of_contents","leftVariants","controlVariants","x","leftTransition","rightTransition","div","semester","class","paddingTop","textTransform"],"mappings":"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M,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EACAwF,SAAS,CAACC,IAAV,CAAezF,MAAM,EAArB,EAC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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { useLocation, Redirect } from 'react-router-dom';\nimport { ListContainer } from './WorkElements';\nimport { withRouter } from 'react-router';\nimport { motion } from \"framer-motion\";\nimport MobileTopButton from '../MobileTopButton';\nimport { Container, Header, TableOfContents, Visit, CloseTOC, MobileTags, MobileTOCToggle, TopSticky, LeftTitle, CaseStudy, CaseStudy2, MobileTOCLabel, MobileTOCContainer, OverviewTag, MobileTOC, Subsection, InlineLink, Sub2, Fancy, NavButtons, WorkNav, NextWork, Back, Content, FixedContent, Title, TagsContainer, Tag, Details, Overview, PicContainer, Thumbnails, ThumbnailSelector, PicScroll, Controls, WorkContent, Label, Desc, DateClass, TOCItem, TOCItem2, Date, Class, InsideHeaderContainer, DividerTOC } from './WorkExpandedElements';\n// import { Work } from './SingleWorkElements';\n// import { load_defaults } from '../../api';\n// import { restore_session } from '../../store';\n// const WorkExpanded = () => {\nconst WorkExpanded = ({ projects }) => {\n\n    const [showTOC, setShowTOC] = useState(false);\n    const [currImage, setCurrImage] = useState(1);\n\n    const location = useLocation();\n    let work_id = location.pathname.split(\"/works\")[0];\n    let work_id_trunc = work_id.substring(1, work_id.length);\n    \n    console.log('this work_id', work_id);\n    console.log('truncated work id', work_id_trunc);\n\n    let work = projects[work_id_trunc];\n    // let work = projects[work.id];\n\n    console.log('selected work', work.name);\n\n    var next_id;\n    var prev_id;\n\n    if (work_id_trunc == 16) {\n        next_id = 0;\n        prev_id = parseInt(work_id_trunc - 1);\n        console.log(\"caught max case\");\n    } else if (work_id_trunc == 0) {\n        console.log(\"caught 0 case\");\n        next_id = parseInt(work_id_trunc + 1); \n        prev_id = 16;\n    } else {\n        next_id = parseInt(work_id_trunc + 1); \n        prev_id = parseInt(work_id_trunc - 1);\n    }\n\n    console.log(\"prev id\", prev_id);\n    console.log(\"next id\", next_id);\n\n    const [mobileTOC, setMobileTOC] = useState(false);\n\n    const toggleMobileTOC = () => {\n        console.log(\"mobile about showing\", mobileTOC);\n        // setMobileTOC(true);\n        setMobileTOC(!mobileTOC);\n    };\n\n    var isLast = false;\n\n    if (work_id == projects.length) {\n        isLast = true;\n    }\n\n    // console.log(\"imgs: \" + work.imgs);\n\n    const imgVariants = {\n        initial: {\n            opacity: 0,\n            y: \"100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            y: '0',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 0.9,\n            transition: {\n                type: \"tween\",\n                ease: [0.7, 0, 0.13, 1],\n                duration: 0.7,\n            }\n        },  \n    };\n\n    const myPicRefs = [];\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    myPicRefs.push(useRef());\n    \n    // const handleClick = (index) => {\n    //     console.log('index', index, myPicRefs);\n    //     console.log('ref clicked', myPicRefs[index].current);\n    //     myPicRefs[index].current?.scrollIntoView({ behavior: 'smooth' });\n    // }\n\n  const handleClick = async event => {\n    // console.log('before');\n    toggleMobileTOC();\n    // await delay(300);\n    myPicRefs[event].current?.scrollIntoView({ behavior: 'smooth' });\n    // console.log('after');\n  };\n\n\n  let project_tags = work.tags.map((tag, index) => (\n    <Tag>{tag}</Tag>\n  ));\n  \n//   let case_study = <></>\n\n    let is_cs = false;\n\n    if (work.class_short == \"June\") {\n        is_cs = true;\n    }\n//   if \n\n// MAIN CONTENT HANDLER --------->\n    function Content_Displayed({picture, index}) {\n        let index_int = index + 1; \n        let index_str = 'pic' + index_int;\n\n        if (index == 0) {\n            return (\n                <Header>\n                    <DateClass>\n                        {/* <Fancy> &#123; </Fancy> */}\n                            {/* <InsideHeaderContainer> */}\n                                <CaseStudy isCS={is_cs}> Case Study</CaseStudy>\n                                {/* <Class>{work.class}</Class> */}\n                            {/* </InsideHeaderContainer> */}\n                        {/* <Fancy> &#125; </Fancy> */}\n                    </DateClass>\n                    <Title>{work.name}</Title>\n                    {/* <Tag style={{ color: 'white', fontWeight: '600', paddingBottom: '6px' }}>Tags</Tag> */}\n                    <MobileTags>{project_tags}</MobileTags>\n                    <Overview>\n                        <OverviewTag>Overview</OverviewTag>\n                        {work.desc}\n                        {/* A series of three self-promotional posters. Explored which traits are core to my identity, and what differentiates me from my peers. Intended to express my identity in a way that creates emotional resonance in a memorable, yet authentic manner.  */}\n                    </Overview>\n                </Header>\n            );\n        } else {\n            if (picture.startsWith('LINK:')) {\n                let link_url = picture.slice('5');\n\n                return (\n                    <InlineLink href={link_url} target=\"_blank\">\n                        {link_url}\n                    </InlineLink>\n                )\n            } else if (picture.startsWith('SS2:')) {\n                let sub_name = picture.slice('4');\n\n                return (\n                    <Sub2 ref={myPicRefs[index]}>\n                        {sub_name}\n                    </Sub2>\n                )\n            } else if (picture.includes(\"/\")) {\n                return (\n                    <PicContainer id={index_str}\n                        index={index}\n                        // isLast={is_last}\n                        // as={motion.div}\n                        // initial=\"initial\"\n                        // animate=\"in\"\n                        // exit=\"out\"\n                        // variants={imgVariants}\n                        // transition={{\n                        //     type: \"tween\",\n                        //     ease: [0.7, 0, 0.13, 1],\n                        //     duration: 0.85,\n                        //     delay: (index + 1) * 0.1,\n                        // }}\n                        >\n                        <img src={\"/imgs/\" + picture} alt={picture} id=\"project-img\"></img>   \n                    </PicContainer>\n                );\n            } else if (picture.startsWith('SS:')) {\n                let header_name = picture.slice('3');\n\n                return (\n                    <Subsection ref={myPicRefs[index]}>\n                        {header_name}\n                    </Subsection>\n                )\n            } else {\n               return (\n                   <Desc\n                    index={index}\n                    // isLast={is_last}\n                    // as={motion.div}\n                    // initial=\"initial\"\n                    // animate=\"in\"\n                    // exit=\"out\"\n                    // variants={imgVariants}\n                    // transition={{\n                    //     type: \"tween\",\n                    //     ease: [0.7, 0, 0.13, 1],\n                    //     duration: 0.85,\n                    //     delay: (index + 1) * 0.1,\n                    // }}\n                   >\n                       {picture}\n                   </Desc>\n               )\n           }\n        }\n    }\n\n\n    function ListofTOC({subsection, index}) {\n        if (subsection.startsWith('SS:')) {\n            setShowTOC(true);\n\n            let header_name = subsection.slice(3);\n\n            return (\n                <TOCItem onClick={()=> handleClick(index)}>{header_name}</TOCItem>\n            )\n        } else if (subsection.startsWith('SS2:')) {\n            let sub_name = subsection.slice(4);\n\n            return (\n                <TOCItem2 onClick={()=> handleClick(index)}>{sub_name}</TOCItem2>\n            )\n        } else {\n            return (\n                <></>\n            )\n        }\n    }\n\n    const updateCurrImage = (img_index) => {\n        // console.log(\"curr img index: \" + img_index);\n        if (currImage != img_index) {\n            setCurrImage(currImage);\n        }\n    };\n\n    function Tags({tag}) {\n        return (\n            <Tag>{tag}</Tag>\n        )\n    };\n\n    const content_displayed = work.imgs.map((picture, index) => (\n        <Content_Displayed picture={picture} key={picture.id} index={index} />\n    ));\n\n    const table_of_contents = work.imgs.map((subsection, index) => (\n        // <Get_TOC subsection={subsection} key={subsection.id} index={index}/>\n        <ListofTOC subsection={subsection} key={subsection.id} index={index} />\n        // <TOCItem>{subsection}</TOCItem>\n    ));\n\n    const leftVariants = {\n        initial: {\n            opacity: 0,\n            y: '0',\n            // y: \"-100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            // y: '2.5rem',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 1,\n        },\n    };\n\n    const controlVariants = {\n        initial: {\n            opacity: 0,\n            y: '0s',\n            x: '1.5rem',\n            // y: \"-100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            x: 0,\n            // y: '2.5rem',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 1,\n        },\n    };\n\n    const leftTransition = {\n        type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.6,\n    }\n\n    const rightTransition = {\n        type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.85,\n    }\n\n\n    return (\n        <Container id='head'\n            // as={motion.div}\n            // initial=\"initial\"\n            // animate=\"in\"\n            // exit=\"out\"\n        >\n            <TopSticky\n                isCS={is_cs}\n                as={motion.div}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                transition={{\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: 0.5,\n                }}\n            >\n                <Date>{work.semester}</Date>\n                <TagsContainer>{project_tags}</TagsContainer>\n                <Class>{work.class}</Class>\n            </TopSticky>\n            \n            <WorkContent\n                isCS={is_cs}\n                as={motion.div}\n                initial={{ y: '100vh' }}\n                animate={{ y: 0 }}\n                exit={{ y: '-100vh', transition: {\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: .7}\n                }}\n                transition={{\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: 1.2,\n                }}\n            >\n                {content_displayed}\n            </WorkContent>\n\n            <Controls\n                as={motion.div}\n                initial={{ x: '-100vw' }}\n                animate={{ x: 0 }}\n                exit={{ x: '-100vw' }}\n                transition={{\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: 0.7,\n                }}\n            >\n                <Back to=\"/works\">← All Projects</Back>\n                <CaseStudy2>Case Study</CaseStudy2>\n                <LeftTitle>{work.name}</LeftTitle>\n                {/* <Visit href={\"https://www.junehomes.com\"} target=\"_blank\">Visit ↗</Visit> */}\n                <NavButtons>\n                    <Date>Previous</Date>\n                    <WorkNav style={{ paddingTop: '4px' }} to={\"/\" + prev_id + \"/works\"} currId={work.id}>{projects[prev_id].name}</WorkNav>\n                    <Date style={{ paddingTop: '28px' }}>Next</Date>\n                    <WorkNav  style={{ paddingTop: '4px' }} to={\"/\" + next_id + \"/works\"} currId={work.id}>{projects[next_id].name}</WorkNav>\n                </NavButtons>\n            </Controls>\n\n            <TableOfContents\n                isCS={is_cs}\n                as={motion.div}\n                initial={{ x: '100vw' }}\n                animate={{ x: 0 }}\n                exit={{ x: '100vw' }}\n                transition={{\n                    type: \"tween\",\n                    ease: [0.7, 0, 0.13, 1],\n                    duration: 0.6,\n                }}\n            >\n                <Date style={{ textTransform: 'uppercase' }}> {showTOC ? 'Table of Contents' : ''}</Date>\n                {table_of_contents}\n            </TableOfContents>\n\n            <MobileTOCContainer\n                as={motion.div}\n                initial={{ x: 0, y: '100vh' }}\n                animate={mobileTOC ? {  x: 0, y: '30vh' } : { x: 0, y: '100vh' }}\n                transition={{\n                type: \"tween\",\n                ease: [0.28, 1.35, 1.5, .91],\n                duration: 0.35  \n                }}\n            >\n                <CloseTOC onClick={toggleMobileTOC}>✕</CloseTOC>\n                <MobileTOC>\n                    {table_of_contents}\n                </MobileTOC>\n            </MobileTOCContainer>\n\n            <MobileTOCToggle isCS={is_cs}>\n                <DividerTOC onClick={toggleMobileTOC}>\n                    <MobileTOCLabel>Table of Contents ☰</MobileTOCLabel>\n                </DividerTOC>\n            </MobileTOCToggle>\n        </Container>\n    );\n};\n  \nexport default withRouter(connect(({ projects }) => ({ projects }))(WorkExpanded));"]},"metadata":{},"sourceType":"module"}