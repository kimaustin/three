{"ast":null,"code":"var _jsxFileName = \"/Users/kimaustin/Documents/Portfolio/website_v2/web-ui/src/components/Works/WorkExpanded.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useLocation, Redirect } from 'react-router-dom';\nimport { ListContainer } from './WorkElements';\nimport { motion } from \"framer-motion\";\nimport MobileTopButton from '../MobileTopButton';\nimport { Container, Header, NavButtons, PrevWork, NextWork, Back, Content, FixedContent, Title, TagsContainer, Tag, Details, Images, PicContainer, Thumbnails, ThumbnailSelector, PicScroll, LeftSection, Controls, RightSection, Label, PicDesc } from './WorkExpandedElements';\nimport e from 'lax.js'; // import { load_defaults } from '../../api';\n// import { restore_session } from '../../store';\n// restore_session();\n// load_defaults();\n\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WorkExpanded = ({\n  projects\n}) => {\n  _s();\n\n  // useEffect(() => {\n  //     window.addEventListener(\"beforeunload\", alertUser);\n  //     return () => {\n  //       window.removeEventListener(\"beforeunload\", window.location = \"http://localhost:3000/works\");\n  //     };\n  //   }, []);\n  //   const alertUser = (e) => {\n  //       console.log(\"redirect catch\");\n  //       window.location = \"http://localhost:3000/works\";\n  //       <Redirect push to=\"/works\"/>;\n  //     e.preventDefault();\n  //     // e.returnValue = \"\";\n  //   };\n  const location = useLocation();\n  let work_id = location.pathname.split(\"/works\")[0]; // let work = get_project(work_id.substring(1, work_id.length));\n\n  console.log(\"work viewed: \" + work_id); // console.log(work_id.substring(1, work_id.length));\n  // console.log(\"projects length: \" + projects.length);\n  // console.log(\"proj obj from api: \" + JSON.stringify(work));\n\n  let work = projects[work_id.substring(1, work_id.length) - 1]; // let prev_id = work_id;\n\n  var next_id;\n  var prev_id;\n\n  if (work.id == 16) {\n    next_id = 1;\n    prev_id = parseInt(work_id.substring(1, work_id.length)) - 1;\n    console.log(\"caught max case\");\n  } else if (work.id == 1) {\n    console.log(\"caught 0 case\");\n    next_id = parseInt(work_id.substring(1, work_id.length)) + 1;\n    prev_id = 16;\n  } else {\n    next_id = parseInt(work_id.substring(1, work_id.length)) + 1;\n    prev_id = parseInt(work_id.substring(1, work_id.length)) - 1;\n  } // // let first = true;\n  // if (work_id == 1) {\n  //     prev_id = work_id;\n  // } else {\n  //     prev_id = work_id - 1;\n  // }\n  // var isLast = false;\n  // if (work_id == projects.length) {\n  //     isLast = true;\n  // }\n  // TODO triggers something when certain scroll level has been reached\n\n\n  const changeSelector = () => {\n    // if scroll = project number * divided value\n    if (window.scrollY >= 80) {// setCurrImage(true);\n    } else {// setCurrImage(false);\n      }\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', changeSelector);\n  }, []);\n  let totalImgs = work.imgs.length;\n  let thumbHeight = 36 / totalImgs - 1 + \"vh\"; // console.log(\"each thumb height: \" + thumbHeight);\n  // height -> 36 / work\n\n  console.log(\"imgs: \" + work.imgs);\n  const imgVariants = {\n    initial: {\n      opacity: 0,\n      y: \"100vh\",\n      scale: 0.9\n    },\n    in: {\n      opacity: 1,\n      y: '0',\n      scale: 1\n    },\n    out: {\n      opacity: 0,\n      // y: \"-100vh\",\n      scale: 0.9,\n      transition: {\n        type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.7\n      }\n    }\n  };\n\n  function Picture_Displayed({\n    picture,\n    index\n  }) {\n    let index_int = index + 1;\n    let index_str = 'pic' + index_int; // console.log(\"does \" + picture + \" contain /: \" + picture.includes(\"/\"));\n\n    let is_last = false;\n\n    if (work.imgs.length == 1 + index) {\n      is_last = true;\n    }\n\n    if (index == 0) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    } else {\n      if (picture.includes(\"/\")) {\n        return /*#__PURE__*/_jsxDEV(PicContainer, {\n          id: index_str,\n          index: index,\n          isLast: is_last,\n          as: motion.div,\n          initial: \"initial\",\n          animate: \"in\",\n          exit: \"out\",\n          variants: imgVariants,\n          transition: {\n            type: \"tween\",\n            ease: [0.7, 0, 0.13, 1],\n            duration: 0.85,\n            delay: (index + 1) * 0.1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/imgs/\" + picture,\n            alt: picture,\n            id: \"project-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(PicDesc, {\n          index: index,\n          isLast: is_last,\n          as: motion.div,\n          initial: \"initial\",\n          animate: \"in\",\n          exit: \"out\",\n          variants: imgVariants,\n          transition: {\n            type: \"tween\",\n            ease: [0.7, 0, 0.13, 1],\n            duration: 0.85,\n            delay: (index + 1) * 0.1\n          },\n          children: picture\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 20\n        }, this);\n      }\n    }\n  }\n\n  const [currImage, setCurrImage] = useState(1);\n\n  const updateCurrImage = img_index => {\n    console.log(\"curr img index: \" + img_index);\n\n    if (currImage != img_index) {\n      setCurrImage(currImage);\n    }\n  };\n\n  function Each_Thumbnail({\n    picture,\n    index\n  }) {\n    let index_int = index + 1;\n    let index_str = 'pic' + index_int;\n    console.log(\"total: \" + totalImgs);\n    return /*#__PURE__*/_jsxDEV(PicScroll, {\n      to: index_str,\n      smooth: true,\n      duration: 500,\n      spy: true,\n      offset: -80,\n      exact: \"true\",\n      relHeight: thumbHeight,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/imgs/\" + picture,\n        style: {\n          maxHeight: '100%',\n          maxWidth: '100%',\n          border: '.5px solid black'\n        },\n        id: \"project-img\",\n        alt: picture\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this);\n  }\n\n  ;\n\n  function Tags({\n    tag\n  }) {\n    return /*#__PURE__*/_jsxDEV(Tag, {\n      children: tag\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this);\n  }\n\n  ;\n  const pictures_displayed = work.imgs.map((picture, index) => /*#__PURE__*/_jsxDEV(Picture_Displayed, {\n    picture: picture,\n    index: index\n  }, picture.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 9\n  }, this));\n  const thumbnails_displayed = work.imgs.map((picture, index) => /*#__PURE__*/_jsxDEV(Each_Thumbnail, {\n    picture: picture,\n    index: index\n  }, picture.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 9\n  }, this));\n  const tags_displayed = work.tags.map(tag => /*#__PURE__*/_jsxDEV(Tags, {\n    tag: tag\n  }, tag.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 9\n  }, this));\n  const leftVariants = {\n    initial: {\n      opacity: 0,\n      y: '0',\n      // y: \"-100vh\",\n      scale: 0.9\n    },\n    in: {\n      opacity: 1,\n      // y: '2.5rem',\n      scale: 1\n    },\n    out: {\n      opacity: 0,\n      // y: \"-100vh\",\n      scale: 1\n    }\n  };\n  const controlVariants = {\n    initial: {\n      opacity: 0,\n      y: '0s',\n      x: '1.5rem',\n      // y: \"-100vh\",\n      scale: 0.9\n    },\n    in: {\n      opacity: 1,\n      x: 0,\n      // y: '2.5rem',\n      scale: 1\n    },\n    out: {\n      opacity: 0,\n      // y: \"-100vh\",\n      scale: 1\n    }\n  };\n  const leftTransition = {\n    type: \"tween\",\n    ease: [0.7, 0, 0.13, 1],\n    duration: 0.6\n  };\n  const rightTransition = {\n    type: \"tween\",\n    ease: [0.7, 0, 0.13, 1],\n    duration: 0.85\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    id: \"head\",\n    as: motion.div,\n    initial: \"initial\",\n    animate: \"in\",\n    exit: \"out\",\n    children: [/*#__PURE__*/_jsxDEV(LeftSection, {\n      as: motion.div,\n      initial: \"initial\",\n      animate: \"in\",\n      exit: \"out\",\n      variants: leftVariants,\n      transition: leftTransition,\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: work.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        children: \"OVERVIEW\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Details, {\n        children: work.desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        children: \"TOOLS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(TagsContainer, {\n        children: tags_displayed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(RightSection // as={motion.div}\n    // initial=\"initial\"\n    // animate=\"in\"\n    // exit=\"out\"\n    // transition={leftTransition}\n    , {\n      children: pictures_displayed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Controls, {\n      as: motion.div,\n      initial: \"initial\",\n      animate: \"in\",\n      exit: \"out\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        as: motion.div,\n        initial: \"initial\",\n        animate: \"in\",\n        exit: \"out\",\n        variants: controlVariants,\n        transition: {\n          type: \"tween\",\n          ease: [0.7, 0, 0.13, 1],\n          duration: 0.6,\n          delay: 0.3\n        },\n        children: /*#__PURE__*/_jsxDEV(Back, {\n          to: \"/works\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(NavButtons, {\n        as: motion.div,\n        initial: \"initial\",\n        animate: \"in\",\n        exit: \"out\",\n        variants: controlVariants,\n        transition: {\n          type: \"tween\",\n          ease: [0.7, 0, 0.13, 1],\n          duration: 0.6,\n          delay: 0.3\n        },\n        children: [/*#__PURE__*/_jsxDEV(PrevWork, {\n          to: \"/\" + prev_id + \"/works\",\n          currId: work.id,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(NextWork, {\n          to: \"/\" + next_id + \"/works\",\n          currId: work.id,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 9\n  }, this);\n}; // load_defaults();\n\n\n_s(WorkExpanded, \"5UNa+4NTgUGwjJiSk4WUJgDxxiA=\", false, function () {\n  return [useLocation];\n});\n\n_c = WorkExpanded;\nexport default connect(({\n  projects\n}) => ({\n  projects\n}))(WorkExpanded);\n\nvar _c;\n\n$RefreshReg$(_c, \"WorkExpanded\");","map":{"version":3,"sources":["/Users/kimaustin/Documents/Portfolio/website_v2/web-ui/src/components/Works/WorkExpanded.js"],"names":["React","useState","useEffect","connect","useLocation","Redirect","ListContainer","motion","MobileTopButton","Container","Header","NavButtons","PrevWork","NextWork","Back","Content","FixedContent","Title","TagsContainer","Tag","Details","Images","PicContainer","Thumbnails","ThumbnailSelector","PicScroll","LeftSection","Controls","RightSection","Label","PicDesc","e","WorkExpanded","projects","location","work_id","pathname","split","console","log","work","substring","length","next_id","prev_id","id","parseInt","changeSelector","window","scrollY","addEventListener","totalImgs","imgs","thumbHeight","imgVariants","initial","opacity","y","scale","in","out","transition","type","ease","duration","Picture_Displayed","picture","index","index_int","index_str","is_last","includes","div","delay","currImage","setCurrImage","updateCurrImage","img_index","Each_Thumbnail","maxHeight","maxWidth","border","Tags","tag","pictures_displayed","map","thumbnails_displayed","tags_displayed","tags","leftVariants","controlVariants","x","leftTransition","rightTransition","name","desc"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useLocation, Redirect } from 'react-router-dom';\nimport { ListContainer } from './WorkElements';\nimport { motion } from \"framer-motion\";\nimport MobileTopButton from '../MobileTopButton';\nimport { Container, Header, NavButtons, PrevWork, NextWork, Back, Content, FixedContent, Title, TagsContainer, Tag, Details, Images, PicContainer, Thumbnails, ThumbnailSelector, PicScroll, LeftSection, Controls, RightSection, Label, PicDesc } from './WorkExpandedElements';\nimport e from 'lax.js';\n// import { load_defaults } from '../../api';\n// import { restore_session } from '../../store';\n\n// restore_session();\n// load_defaults();\n\nconst WorkExpanded = ({ projects }) => {\n\n    // useEffect(() => {\n    //     window.addEventListener(\"beforeunload\", alertUser);\n    //     return () => {\n    //       window.removeEventListener(\"beforeunload\", window.location = \"http://localhost:3000/works\");\n    //     };\n    //   }, []);\n    //   const alertUser = (e) => {\n    //       console.log(\"redirect catch\");\n    //       window.location = \"http://localhost:3000/works\";\n    //       <Redirect push to=\"/works\"/>;\n    //     e.preventDefault();\n    //     // e.returnValue = \"\";\n    //   };\n\n    const location = useLocation();\n    let work_id = location.pathname.split(\"/works\")[0];\n    // let work = get_project(work_id.substring(1, work_id.length));\n    \n\n    console.log(\"work viewed: \" + work_id);\n    // console.log(work_id.substring(1, work_id.length));\n    // console.log(\"projects length: \" + projects.length);\n    // console.log(\"proj obj from api: \" + JSON.stringify(work));\n    \n    let work = projects[work_id.substring(1, work_id.length) - 1];\n\n    // let prev_id = work_id;\n    var next_id;\n    var prev_id;\n\n    if (work.id == 16) {\n        next_id = 1;\n        prev_id = parseInt(work_id.substring(1, work_id.length)) - 1;\n        console.log(\"caught max case\");\n    } else if (work.id == 1) {\n        console.log(\"caught 0 case\");\n        next_id = parseInt(work_id.substring(1, work_id.length)) + 1; \n        prev_id = 16;\n    } else {\n        next_id = parseInt(work_id.substring(1, work_id.length)) + 1; \n        prev_id = parseInt(work_id.substring(1, work_id.length)) - 1;\n    }\n\n    // // let first = true;\n    // if (work_id == 1) {\n    //     prev_id = work_id;\n    // } else {\n    //     prev_id = work_id - 1;\n    // }\n\n    // var isLast = false;\n    // if (work_id == projects.length) {\n    //     isLast = true;\n    // }\n    \n    // TODO triggers something when certain scroll level has been reached\n    const changeSelector = () => {\n        // if scroll = project number * divided value\n        if(window.scrollY >= 80) {\n            // setCurrImage(true);\n            \n        } else {\n            // setCurrImage(false);\n        }\n    };\n    \n\n    useEffect(() => {\n        window.addEventListener('scroll', changeSelector)\n    }, []);\n    \n    let totalImgs = work.imgs.length;\n    let thumbHeight = ((36 / totalImgs) - 1) + \"vh\";\n    // console.log(\"each thumb height: \" + thumbHeight);\n    // height -> 36 / work\n\n    console.log(\"imgs: \" + work.imgs);\n\n    const imgVariants = {\n        initial: {\n            opacity: 0,\n            y: \"100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            y: '0',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 0.9,\n            transition: {\n                type: \"tween\",\n                ease: [0.7, 0, 0.13, 1],\n                duration: 0.7,\n            }\n        },  \n    };\n\n    function Picture_Displayed({picture, index}) {\n        let index_int = index + 1; \n        let index_str = 'pic' + index_int;\n        // console.log(\"does \" + picture + \" contain /: \" + picture.includes(\"/\"));\n\n        let is_last = false;\n\n        if (work.imgs.length == (1 + index)) {\n            is_last = true;\n        } \n\n        if (index == 0) {\n            return (\n                <></>\n            )\n        } else {\n            if (picture.includes(\"/\")) {\n                return (\n                    <PicContainer id={index_str}\n                        index={index}\n                        isLast={is_last}\n                        as={motion.div}\n                        initial=\"initial\"\n                        animate=\"in\"\n                        exit=\"out\"\n                        variants={imgVariants}\n                        transition={{\n                            type: \"tween\",\n                            ease: [0.7, 0, 0.13, 1],\n                            duration: 0.85,\n                            delay: (index + 1) * 0.1,\n                        }}\n                        >\n                        <img src={\"/imgs/\" + picture} alt={picture} id=\"project-img\"></img>    \n                    </PicContainer>\n                );\n            }\n           else {\n               return (\n                   <PicDesc\n                    index={index}\n                    isLast={is_last}\n                    as={motion.div}\n                    initial=\"initial\"\n                    animate=\"in\"\n                    exit=\"out\"\n                    variants={imgVariants}\n                    transition={{\n                        type: \"tween\",\n                        ease: [0.7, 0, 0.13, 1],\n                        duration: 0.85,\n                        delay: (index + 1) * 0.1,\n                    }}\n                   >\n                       {picture}\n                   </PicDesc>\n               )\n           }\n        }\n    }\n\n    const [currImage, setCurrImage] = useState(1);\n\n    const updateCurrImage = (img_index) => {\n        console.log(\"curr img index: \" + img_index);\n        if (currImage != img_index) {\n            setCurrImage(currImage);\n        }\n    };\n\n    function Each_Thumbnail({picture, index}) {\n        let index_int = index + 1; \n        let index_str = 'pic' + index_int;\n        console.log(\"total: \" + totalImgs);\n\n        return (\n            <PicScroll to={index_str} smooth={true} duration={500} spy={true} \n                offset={-80} exact=\"true\" relHeight={thumbHeight}>\n                <img src={\"/imgs/\" + picture} style={{maxHeight: '100%', maxWidth: '100%', border: '.5px solid black'}} id=\"project-img\" alt={picture}></img>    \n            </PicScroll>\n        )\n    };\n\n    function Tags({tag}) {\n        return (\n            <Tag>{tag}</Tag>\n        )\n    };\n\n    const pictures_displayed = work.imgs.map((picture, index) => (\n        <Picture_Displayed picture={picture} key={picture.id} index={index} />\n    ));\n\n    const thumbnails_displayed = work.imgs.map((picture, index) => (\n        <Each_Thumbnail picture={picture} key={picture.id} index={index} />\n    ));\n\n    const tags_displayed = work.tags.map((tag) => (\n        <Tags tag={tag} key={tag.id} />\n    ));\n\n    const leftVariants = {\n        initial: {\n            opacity: 0,\n            y: '0',\n            // y: \"-100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            // y: '2.5rem',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 1,\n        },\n    };\n\n    const controlVariants = {\n        initial: {\n            opacity: 0,\n            y: '0s',\n            x: '1.5rem',\n            // y: \"-100vh\",\n            scale: 0.9,\n        },\n        in: {\n            opacity: 1,\n            x: 0,\n            // y: '2.5rem',\n            scale: 1,\n        },\n        out: {\n            opacity: 0,\n            // y: \"-100vh\",\n            scale: 1,\n        },\n    };\n\n    const leftTransition = {\n        type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.6,\n    }\n\n    const rightTransition = {\n        type: \"tween\",\n        ease: [0.7, 0, 0.13, 1],\n        duration: 0.85,\n    }\n\n    return (\n        <Container id='head'\n            as={motion.div}\n            initial=\"initial\"\n            animate=\"in\"\n            exit=\"out\">\n\n            <LeftSection\n                as={motion.div}\n                initial=\"initial\"\n                animate=\"in\"\n                exit=\"out\"\n                variants={leftVariants}\n                transition={leftTransition}>\n                    {/* {work.id}  */}\n                    <Title>{work.name}</Title>\n                    <Label>OVERVIEW</Label>\n                    <Details>{work.desc}</Details>\n                    <Label>TOOLS</Label>\n                    <TagsContainer>{tags_displayed}</TagsContainer>\n            </LeftSection>\n\n            <RightSection\n                // as={motion.div}\n                // initial=\"initial\"\n                // animate=\"in\"\n                // exit=\"out\"\n                // transition={leftTransition}\n            >\n                {pictures_displayed}\n            </RightSection>\n\n            <Controls\n                as={motion.div}\n                initial=\"initial\"\n                animate=\"in\"\n                exit=\"out\"\n            >\n                    <Header as={motion.div}\n                        initial=\"initial\"\n                        animate=\"in\"\n                        exit=\"out\"\n                        variants={controlVariants}\n                        transition={{type: \"tween\",\n                        ease: [0.7, 0, 0.13, 1],\n                        duration: 0.6,\n                        delay: 0.3}}\n                    >\n                        <Back to=\"/works\">Back</Back>\n                    </Header>\n                    <NavButtons as={motion.div}\n                        initial=\"initial\"\n                        animate=\"in\"\n                        exit=\"out\"\n                        variants={controlVariants}\n                        transition={{type: \"tween\",\n                        ease: [0.7, 0, 0.13, 1],\n                        duration: 0.6,\n                        delay: 0.3}}\n                    >\n                        <PrevWork to={\"/\" + prev_id + \"/works\"} currId={work.id}>Previous</PrevWork>\n                        <NextWork to={\"/\" + next_id + \"/works\"} currId={work.id}>Next</NextWork>\n                    </NavButtons>\n            </Controls>\n\n            {/* <MobileTopButton /> */}\n        </Container>\n    );\n};\n  \n// load_defaults();\n\nexport default connect(({ projects }) => ({ projects }))(WorkExpanded);\n\n\n"]},"metadata":{},"sourceType":"module"}