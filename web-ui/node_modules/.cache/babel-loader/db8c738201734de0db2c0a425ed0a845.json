{"ast":null,"code":"var _jsxFileName = \"/home/portfolio/v2/web-ui/src/components/SideProjects/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useInView, inView, InView } from 'react-intersection-observer';\nimport { connect } from \"react-redux\";\nimport { motion } from \"framer-motion\";\nimport { Link as LinkRouter } from 'react-router-dom';\nimport { Container, WorkListContainer, Marker, ClickableArea, WorkItem, CaseStudy, WorkActions, WorkName, TagsContainer, ProjectTag, Details, VisitLink } from './SideProjectsElements';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SideProjects = ({\n  projects,\n  sideProjectsToggle\n}) => {\n  _s();\n\n  const [projectValue, setProjectValue] = useState(0);\n  const ListContainerRef = useRef();\n  let observerOptions = {\n    root: ListContainerRef.target,\n    rootMargin: '-49% 0px -50% 0px' // threshold: 0.1\n\n  };\n  const myRefs = [];\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  useEffect(() => {\n    // const observer = new IntersectionObserver((projectsList) => {\n    //     console.log(\"projects list\", projectsList);\n    //     console.log('root', projectsList.root);\n    // }, observerOptions)\n    for (var i = 0; i < myRefs.length; i++) {\n      // console.log('curr', myRefs[i].current);\n      // console.log('root', root);\n      const observer = new IntersectionObserver(projectsList => {\n        if (projectsList[0].isIntersecting) {\n          // console.log('scroll - current proj index', projectValue);\n          setProjectValue(projectsList[0].target.id);\n          projectsList[0].target.style.opacity = 1.0;\n        } else {\n          projectsList[0].target.style.opacity = 0.5;\n        }\n      }, observerOptions);\n      observer.observe(myRefs[i].current);\n    }\n  }, []);\n\n  const handleClick = index => {\n    var _myRefs$index$current;\n\n    // console.log('proj clicked', index);\n    // console.log('clicked - current proj index', projectValue);\n    (_myRefs$index$current = myRefs[index].current) === null || _myRefs$index$current === void 0 ? void 0 : _myRefs$index$current.scrollIntoView({\n      behavior: 'smooth'\n    }); // await timeout(1000); //for 1 sec delay\n    // setProjectValue(index);\n  }; //MAIN PROJECTS LIST\n\n\n  let projects_list = projects.map((project, index) => {\n    // var refName = 'ref' + {project};\n    // const { ref: refName, inView: inView2, entry } = useInView({\n    //   rootMargin: '-210px'\n    // });\n    if (project.isCS) {\n      return /*#__PURE__*/_jsxDEV(WorkItem, {\n        id: index,\n        ref: myRefs[index],\n        onClick: () => handleClick(index),\n        currProj: projectValue,\n        thisProj: index,\n        children: [project.name, /*#__PURE__*/_jsxDEV(CaseStudy, {\n          children: \"CASE STUDY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(WorkItem, {\n        id: index,\n        ref: myRefs[index],\n        onClick: () => handleClick(index),\n        currProj: projectValue,\n        thisProj: index,\n        children: project.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this) // <InView>\n      //   {({ inView, ref, entry }) => (\n      //     <WorkItem ref={refName} id={\"testID\" + project}>\n      //       {project.name}\n      //       <ImageHover heightVar={\"1\" + project.val + \"%\"}>\n      //         <img src={\"testProjCover\" + project.val + \".png\"} />\n      //       </ImageHover>  \n      //     </WorkItem>\n      //   )}\n      // </InView>\n      ;\n    }\n  });\n\n  function ProjTags({\n    tag,\n    key,\n    index\n  }) {\n    if (index < 5) {\n      return /*#__PURE__*/_jsxDEV(ProjectTag, {\n        children: [tag, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  let tagsDisplayed = projects[projectValue].tags.map((tag, index) => /*#__PURE__*/_jsxDEV(ProjTags, {\n    tag: tag,\n    index: index // tagsLength={4}\n\n  }, tag.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this));\n\n  let visit_link = () => {\n    if (projects[projectValue].link.length == 1) {\n      // console.log(\"got to link\");\n      return /*#__PURE__*/_jsxDEV(VisitLink, {\n        href: projects[projectValue].link[0],\n        target: \"_blank\",\n        children: \"Visit \\u2197\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this);\n    } else {\n      return;\n    }\n  };\n\n  let rightImageSource = \"imgs/\" + projects[projectValue].imgs[0];\n  return /*#__PURE__*/_jsxDEV(Container // id=\"head\"\n  // as={motion.div}\n  // initial=\"initial\"\n  // animate=\"in\"\n  // exit=\"out\"\n  // variants={pageVariants2}\n  // transition={pageTransition}\n  , {\n    children: /*#__PURE__*/_jsxDEV(ImageContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SideProjects, \"sAqk4Fkei+Yz//3C8OLgfYpIySE=\");\n\n_c = SideProjects;\nexport default connect(({\n  projects,\n  sideProjectsToggle\n}) => ({\n  projects,\n  sideProjectsToggle\n}))(SideProjects);\n\nvar _c;\n\n$RefreshReg$(_c, \"SideProjects\");","map":{"version":3,"sources":["/home/portfolio/v2/web-ui/src/components/SideProjects/index.js"],"names":["React","useState","useEffect","useRef","useCallback","useInView","inView","InView","connect","motion","Link","LinkRouter","Container","WorkListContainer","Marker","ClickableArea","WorkItem","CaseStudy","WorkActions","WorkName","TagsContainer","ProjectTag","Details","VisitLink","SideProjects","projects","sideProjectsToggle","projectValue","setProjectValue","ListContainerRef","observerOptions","root","target","rootMargin","myRefs","push","i","length","observer","IntersectionObserver","projectsList","isIntersecting","id","style","opacity","observe","current","handleClick","index","scrollIntoView","behavior","projects_list","map","project","isCS","name","ProjTags","tag","key","tagsDisplayed","tags","visit_link","link","rightImageSource","imgs"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useInView, inView, InView } from 'react-intersection-observer';\nimport { connect } from \"react-redux\";\nimport { motion } from \"framer-motion\";\nimport { Link as LinkRouter } from 'react-router-dom';\nimport {\n  Container,\n  WorkListContainer,\n  Marker,\n  ClickableArea,\n  WorkItem,\n  CaseStudy,\n  WorkActions,\n  WorkName,\n  TagsContainer,\n  ProjectTag,\n  Details,\n  VisitLink\n} from './SideProjectsElements';\n\nconst SideProjects = ({ projects, sideProjectsToggle }) => {\n\n  const [projectValue, setProjectValue] = useState(0);\n\n\n  const ListContainerRef = useRef();\n\n  let observerOptions = {\n    root: ListContainerRef.target,\n    rootMargin: '-49% 0px -50% 0px',\n    // threshold: 0.1\n  }\n\n  const myRefs = [];\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n\n  useEffect (() => {\n      // const observer = new IntersectionObserver((projectsList) => {\n      //     console.log(\"projects list\", projectsList);\n      //     console.log('root', projectsList.root);\n      // }, observerOptions)\n      for (var i = 0; i < myRefs.length; i++) { \n          // console.log('curr', myRefs[i].current);\n          // console.log('root', root);\n          const observer = new IntersectionObserver((projectsList) => {\n            if (projectsList[0].isIntersecting) {\n              // console.log('scroll - current proj index', projectValue);\n              setProjectValue(projectsList[0].target.id);\n              projectsList[0].target.style.opacity = 1.0;\n            } else {\n              projectsList[0].target.style.opacity = 0.5;\n            }\n          }, observerOptions)\n          observer.observe(myRefs[i].current);\n      }\n  }, [])\n\n  const handleClick = (index) => {\n    // console.log('proj clicked', index);\n    // console.log('clicked - current proj index', projectValue);\n    myRefs[index].current?.scrollIntoView({ behavior: 'smooth' });\n    // await timeout(1000); //for 1 sec delay\n    // setProjectValue(index);\n  }\n\n  //MAIN PROJECTS LIST\n  let projects_list = projects.map((project, index) => {\n\n    // var refName = 'ref' + {project};\n    // const { ref: refName, inView: inView2, entry } = useInView({\n    //   rootMargin: '-210px'\n    // });\n\n    if (project.isCS) {\n      return (\n        <WorkItem id={index} ref={myRefs[index]} onClick={()=> handleClick(index)} currProj={projectValue} thisProj={index}>\n          {project.name}\n          {/* <Fake>{projectValue}</Fake> */}\n          <CaseStudy>CASE STUDY</CaseStudy>\n        </WorkItem>\n      )\n    } else {\n      return (\n        <WorkItem id={index} ref={myRefs[index]} onClick={()=> handleClick(index)} currProj={projectValue} thisProj={index}>\n          {project.name}\n          {/* <Fake>{projectValue}</Fake> */}\n        </WorkItem>\n        // <InView>\n        //   {({ inView, ref, entry }) => (\n        //     <WorkItem ref={refName} id={\"testID\" + project}>\n        //       {project.name}\n        //       <ImageHover heightVar={\"1\" + project.val + \"%\"}>\n        //         <img src={\"testProjCover\" + project.val + \".png\"} />\n        //       </ImageHover>  \n        //     </WorkItem>\n        //   )}\n        // </InView>\n      )\n    }\n  });\n\n  function ProjTags({ tag, key, index }) {\n    if (index < 5) {\n      return <ProjectTag>{tag} <br/></ProjectTag>;\n    }\n  }\n\n  let tagsDisplayed = projects[projectValue].tags.map((tag, index) => (\n    <ProjTags\n      tag={tag}\n      key={tag.id}\n      index={index}\n      // tagsLength={4}\n    />\n  ));\n\n  let visit_link = () => {\n    if (projects[projectValue].link.length == 1) {\n      // console.log(\"got to link\");\n\n      return (\n        <VisitLink href={projects[projectValue].link[0]} target=\"_blank\">\n          Visit ↗\n        </VisitLink>\n      )\n    } else {\n      return;\n    }\n  }\n\n  let rightImageSource = \"imgs/\" + projects[projectValue].imgs[0];\n\n\n  return (\n    <Container\n      // id=\"head\"\n      // as={motion.div}\n      // initial=\"initial\"\n      // animate=\"in\"\n      // exit=\"out\"\n      // variants={pageVariants2}\n      // transition={pageTransition}\n    >\n      <ImageContainer></ImageContainer>\n    </Container>\n  )\n}\n\nexport default connect(({ projects, sideProjectsToggle }) => ({ projects, sideProjectsToggle }))(SideProjects);\n\n"]},"metadata":{},"sourceType":"module"}